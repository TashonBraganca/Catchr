{"version":3,"file":"ProgressiveDisclosureDemo-DIwPma6q.js","sources":["../../src/components/demo/ProgressiveDisclosureDemo.tsx"],"sourcesContent":["/**\n * Progressive Disclosure Demo Component\n *\n * Demonstrates the Apple Notes-inspired progressive disclosure patterns\n * in a realistic editing environment. Shows how the interface adapts\n * to user context and behavior.\n */\n\nimport React, { useState, useRef } from 'react';\nimport { motion } from 'framer-motion';\nimport { cn } from '@/lib/utils';\nimport {\n  ProgressiveToolbar,\n  ProgressiveSearch,\n  ProgressiveActions,\n  ContentFocusMode\n} from '@/components/ui/ProgressiveDisclosure';\n\ninterface ProgressiveDisclosureDemoProps {\n  className?: string;\n}\n\nexport const ProgressiveDisclosureDemo: React.FC<ProgressiveDisclosureDemoProps> = ({\n  className\n}) => {\n  // Progressive disclosure state\n  const [isWriting, setIsWriting] = useState(false);\n  const [showToolbar, setShowToolbar] = useState(false);\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [hoveredElement, setHoveredElement] = useState<string | null>(null);\n  const [selectedText, setSelectedText] = useState(false);\n\n  // Editor state\n  const [editorContent, setEditorContent] = useState('');\n  const editorRef = useRef<HTMLTextAreaElement>(null);\n\n  // Demo notes\n  const demoNotes = [\n    { id: '1', title: 'Meeting Notes', preview: 'Discussed project timeline and next steps...', date: '2 hours ago' },\n    { id: '2', title: 'Weekend Plans', preview: 'Visit the farmer\\'s market, go for a hike...', date: 'Yesterday' },\n    { id: '3', title: 'Book Ideas', preview: 'Interesting concepts for the next chapter...', date: '3 days ago' }\n  ];\n\n  const handleToolbarAction = (action: string) => {\n    console.log(`Toolbar action: ${action}`);\n    // In a real app, this would apply formatting to selected text\n  };\n\n  const handleSearch = (query: string, filters: string[]) => {\n    console.log(`Search: \"${query}\" with filters:`, filters);\n    // In a real app, this would filter the notes list\n  };\n\n  const handleNoteAction = (action: string) => {\n    console.log(`Note action: ${action}`);\n    // In a real app, this would perform the selected action\n  };\n\n  const handleTextSelection = () => {\n    const selection = window.getSelection();\n    const hasSelection = selection && selection.toString().length > 0;\n    setSelectedText(!!hasSelection);\n    setShowToolbar(!!hasSelection);\n  };\n\n  return (\n    <div className={cn('h-full flex bg-[#fbfbfd]', className)}>\n      {/* Sidebar Demo */}\n      <div className=\"w-64 h-full bg-white border-r border-[#e5e5e7] p-4\">\n        <div\n          className=\"mb-4\"\n          onMouseEnter={() => setHoveredElement('sidebar')}\n          onMouseLeave={() => setHoveredElement(null)}\n        >\n          <h3 className=\"text-lg font-semibold text-[#1d1d1f] mb-2\">Smart Collections</h3>\n\n          {/* Progressive Actions for Sidebar */}\n          <div className=\"relative\">\n            <ProgressiveActions\n              isVisible={hoveredElement === 'sidebar'}\n              context=\"sidebar\"\n              onAction={handleNoteAction}\n              className=\"absolute top-0 right-0\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            {['ðŸ“¥ Inbox (12)', 'ðŸ“… Today (5)', 'âœ… Completed (23)'].map((item, index) => (\n              <div\n                key={index}\n                className=\"p-2 rounded-lg hover:bg-[#f2f2f7] cursor-pointer transition-colors\"\n              >\n                <span className=\"text-sm text-[#1d1d1f]\">{item}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"border-t border-[#e5e5e7] pt-4\">\n          <h4 className=\"text-sm font-medium text-[#8e8e93] mb-2\">PROJECTS</h4>\n          <div className=\"space-y-1\">\n            {[\n              { name: 'Work', color: '#ff3b30', count: 8 },\n              { name: 'Personal', color: '#34c759', count: 15 },\n              { name: 'Ideas', color: '#af52de', count: 6 }\n            ].map((project) => (\n              <div key={project.name} className=\"flex items-center space-x-2 p-2 rounded-lg hover:bg-[#f2f2f7] cursor-pointer\">\n                <div\n                  className=\"w-3 h-3 rounded-full\"\n                  style={{ backgroundColor: project.color }}\n                />\n                <span className=\"flex-1 text-sm\">{project.name}</span>\n                <span className=\"text-xs bg-[#8e8e93]/20 text-[#8e8e93] px-2 py-1 rounded-full\">\n                  {project.count}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Note List Demo */}\n      <div className=\"w-80 h-full bg-white border-r border-[#e5e5e7] flex flex-col\">\n        <div className=\"p-4 border-b border-[#e5e5e7]\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h2 className=\"text-sm font-medium text-[#8e8e93]\">All Notes</h2>\n            <div\n              onMouseEnter={() => setHoveredElement('list')}\n              onMouseLeave={() => setHoveredElement(null)}\n              className=\"relative\"\n            >\n              <ProgressiveActions\n                isVisible={hoveredElement === 'list'}\n                context=\"list\"\n                onAction={handleNoteAction}\n              />\n            </div>\n          </div>\n\n          {/* Progressive Search */}\n          <ProgressiveSearch\n            isExpanded={showAdvancedSearch}\n            onExpand={setShowAdvancedSearch}\n            onSearch={handleSearch}\n          />\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          {demoNotes.map((note) => (\n            <div\n              key={note.id}\n              className=\"p-4 border-b border-[#e5e5e7] hover:bg-[#f9f9f9] cursor-pointer group\"\n              onMouseEnter={() => setHoveredElement(`note-${note.id}`)}\n              onMouseLeave={() => setHoveredElement(null)}\n            >\n              <div className=\"flex justify-between items-start mb-1\">\n                <h3 className=\"font-medium text-[#1d1d1f] text-sm\">{note.title}</h3>\n                <ProgressiveActions\n                  isVisible={hoveredElement === `note-${note.id}`}\n                  context=\"note\"\n                  onAction={handleNoteAction}\n                  className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                />\n              </div>\n              <p className=\"text-sm text-[#8e8e93] mb-2 line-clamp-2\">{note.preview}</p>\n              <span className=\"text-xs text-[#8e8e93]\">{note.date}</span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Editor Demo */}\n      <div className=\"flex-1 h-full flex flex-col relative\">\n        {/* Header - hides when writing */}\n        <motion.div\n          className=\"h-14 flex items-center justify-between px-6 border-b border-[#e5e5e7] bg-white\"\n          animate={{\n            opacity: isWriting ? 0 : 1,\n            y: isWriting ? -20 : 0\n          }}\n          transition={{ duration: 0.2, ease: [0.4, 0, 0.2, 1] }}\n        >\n          <div>\n            <h3 className=\"text-lg font-medium text-[#1d1d1f]\">Demo Note</h3>\n            <p className=\"text-sm text-[#8e8e93]\">Progressive disclosure in action</p>\n          </div>\n\n          {/* Static formatting tools (hidden during writing) */}\n          <div className=\"flex items-center space-x-2\">\n            <button className=\"w-8 h-8 rounded hover:bg-[#f2f2f7] flex items-center justify-center text-[#8e8e93]\">\n              <strong>B</strong>\n            </button>\n            <button className=\"w-8 h-8 rounded hover:bg-[#f2f2f7] flex items-center justify-center text-[#8e8e93]\">\n              <em>I</em>\n            </button>\n            <button className=\"w-8 h-8 rounded hover:bg-[#f2f2f7] flex items-center justify-center text-[#8e8e93]\">\n              â€¢\n            </button>\n            <div className=\"w-px h-6 bg-[#e5e5e7] mx-2\" />\n            <button className=\"w-10 h-10 rounded-lg bg-[#007aff] text-white flex items-center justify-center\">\n              ðŸŽ¤\n            </button>\n          </div>\n        </motion.div>\n\n        {/* Content-First Editor Area */}\n        <ContentFocusMode\n          isActive={isWriting}\n          onToggle={setIsWriting}\n          className=\"flex-1 p-6 overflow-y-auto\"\n        >\n          <div className=\"max-w-2xl mx-auto relative\">\n            {/* Progressive Toolbar - appears on text selection */}\n            <ProgressiveToolbar\n              isVisible={showToolbar && selectedText}\n              position=\"floating\"\n              onAction={handleToolbarAction}\n            />\n\n            <textarea\n              ref={editorRef}\n              value={editorContent}\n              onChange={(e) => setEditorContent(e.target.value)}\n              onFocus={() => setIsWriting(true)}\n              onBlur={() => {\n                setIsWriting(false);\n                setShowToolbar(false);\n                setSelectedText(false);\n              }}\n              onMouseUp={handleTextSelection}\n              onKeyUp={handleTextSelection}\n              placeholder=\"Start writing... Notice how the interface adapts as you focus on content. Try selecting text to see the progressive toolbar appear.\"\n              className={cn(\n                'w-full h-full min-h-[500px] resize-none border-0 outline-none bg-transparent',\n                'text-base leading-relaxed text-[#1d1d1f] placeholder-[#8e8e93]',\n                'transition-all duration-300',\n                isWriting && 'text-lg leading-loose' // Larger text when actively writing\n              )}\n            />\n\n            {/* Writing mode indicator */}\n            <motion.div\n              className=\"absolute bottom-4 right-4 px-3 py-1 bg-[#007aff] text-white text-xs rounded-full\"\n              initial={{ opacity: 0, scale: 0.8 }}\n              animate={{\n                opacity: isWriting ? 1 : 0,\n                scale: isWriting ? 1 : 0.8\n              }}\n              transition={{ duration: 0.2 }}\n            >\n              Content Focus Mode\n            </motion.div>\n          </div>\n        </ContentFocusMode>\n\n        {/* Demo Instructions */}\n        <div className=\"absolute bottom-4 left-4 max-w-xs\">\n          <motion.div\n            className=\"p-3 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg border border-[#e5e5e7] text-xs\"\n            animate={{\n              opacity: isWriting ? 0 : 1,\n              y: isWriting ? 20 : 0\n            }}\n            transition={{ duration: 0.3 }}\n          >\n            <h4 className=\"font-medium text-[#1d1d1f] mb-2\">ðŸŽ¯ Try These Interactions:</h4>\n            <ul className=\"space-y-1 text-[#8e8e93]\">\n              <li>â€¢ Hover over elements to reveal actions</li>\n              <li>â€¢ Click in the editor to enter focus mode</li>\n              <li>â€¢ Select text to see the progressive toolbar</li>\n              <li>â€¢ Click search to see advanced options</li>\n            </ul>\n          </motion.div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProgressiveDisclosureDemo;"],"names":["ProgressiveDisclosureDemo","className","isWriting","setIsWriting","useState","showToolbar","setShowToolbar","showAdvancedSearch","setShowAdvancedSearch","hoveredElement","setHoveredElement","selectedText","setSelectedText","editorContent","setEditorContent","editorRef","useRef","demoNotes","handleToolbarAction","action","handleSearch","query","filters","handleNoteAction","handleTextSelection","selection","hasSelection","cn","jsxs","jsx","ProgressiveActions","item","index","project","ProgressiveSearch","note","motion","ContentFocusMode","ProgressiveToolbar","e"],"mappings":"yFAsBO,MAAMA,EAAsE,CAAC,CAClF,UAAAC,CACF,IAAM,CAEJ,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAS,EAAK,EAC1C,CAACC,EAAaC,CAAc,EAAIF,EAAAA,SAAS,EAAK,EAC9C,CAACG,EAAoBC,CAAqB,EAAIJ,EAAAA,SAAS,EAAK,EAC5D,CAACK,EAAgBC,CAAiB,EAAIN,EAAAA,SAAwB,IAAI,EAClE,CAACO,EAAcC,CAAe,EAAIR,EAAAA,SAAS,EAAK,EAGhD,CAACS,EAAeC,CAAgB,EAAIV,EAAAA,SAAS,EAAE,EAC/CW,EAAYC,EAAAA,OAA4B,IAAI,EAG5CC,EAAY,CAChB,CAAE,GAAI,IAAK,MAAO,gBAAiB,QAAS,+CAAgD,KAAM,aAAA,EAClG,CAAE,GAAI,IAAK,MAAO,gBAAiB,QAAS,8CAAgD,KAAM,WAAA,EAClG,CAAE,GAAI,IAAK,MAAO,aAAc,QAAS,+CAAgD,KAAM,YAAA,CAAa,EAGxGC,EAAuBC,GAAmB,CAC9C,QAAQ,IAAI,mBAAmBA,CAAM,EAAE,CAEzC,EAEMC,EAAe,CAACC,EAAeC,IAAsB,CACzD,QAAQ,IAAI,YAAYD,CAAK,kBAAmBC,CAAO,CAEzD,EAEMC,EAAoBJ,GAAmB,CAC3C,QAAQ,IAAI,gBAAgBA,CAAM,EAAE,CAEtC,EAEMK,EAAsB,IAAM,CAChC,MAAMC,EAAY,OAAO,aAAA,EACnBC,EAAeD,GAAaA,EAAU,SAAA,EAAW,OAAS,EAChEb,EAAgB,CAAC,CAACc,CAAY,EAC9BpB,EAAe,CAAC,CAACoB,CAAY,CAC/B,EAEA,cACG,MAAA,CAAI,UAAWC,EAAG,2BAA4B1B,CAAS,EAEtD,SAAA,CAAA2B,EAAAA,KAAC,MAAA,CAAI,UAAU,qDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CACC,UAAU,OACV,aAAc,IAAMlB,EAAkB,SAAS,EAC/C,aAAc,IAAMA,EAAkB,IAAI,EAE1C,SAAA,CAAAmB,EAAAA,IAAC,KAAA,CAAG,UAAU,4CAA4C,SAAA,oBAAiB,EAG3EA,EAAAA,IAAC,MAAA,CAAI,UAAU,WACb,SAAAA,EAAAA,IAACC,EAAA,CACC,UAAWrB,IAAmB,UAC9B,QAAQ,UACR,SAAUc,EACV,UAAU,wBAAA,CAAA,EAEd,EAEAM,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAC,gBAAiB,eAAgB,kBAAkB,EAAE,IAAI,CAACE,EAAMC,IAChEH,EAAAA,IAAC,MAAA,CAEC,UAAU,qEAEV,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,SAAAE,CAAA,CAAK,CAAA,EAH1CC,CAAA,CAKR,CAAA,CACH,CAAA,CAAA,CAAA,EAGFJ,EAAAA,KAAC,MAAA,CAAI,UAAU,iCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,0CAA0C,SAAA,WAAQ,EAChEA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CACC,CAAE,KAAM,OAAQ,MAAO,UAAW,MAAO,CAAA,EACzC,CAAE,KAAM,WAAY,MAAO,UAAW,MAAO,EAAA,EAC7C,CAAE,KAAM,QAAS,MAAO,UAAW,MAAO,CAAA,CAAE,EAC5C,IAAKI,GACLL,EAAAA,KAAC,MAAA,CAAuB,UAAU,+EAChC,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,uBACV,MAAO,CAAE,gBAAiBI,EAAQ,KAAA,CAAM,CAAA,EAE1CJ,EAAAA,IAAC,OAAA,CAAK,UAAU,iBAAkB,WAAQ,KAAK,EAC/CA,EAAAA,IAAC,OAAA,CAAK,UAAU,gEACb,WAAQ,KAAA,CACX,CAAA,GARQI,EAAQ,IASlB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EAGAL,EAAAA,KAAC,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,gCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qCAAqC,SAAA,YAAS,EAC5DA,EAAAA,IAAC,MAAA,CACC,aAAc,IAAMnB,EAAkB,MAAM,EAC5C,aAAc,IAAMA,EAAkB,IAAI,EAC1C,UAAU,WAEV,SAAAmB,EAAAA,IAACC,EAAA,CACC,UAAWrB,IAAmB,OAC9B,QAAQ,OACR,SAAUc,CAAA,CAAA,CACZ,CAAA,CACF,EACF,EAGAM,EAAAA,IAACK,EAAA,CACC,WAAY3B,EACZ,SAAUC,EACV,SAAUY,CAAA,CAAA,CACZ,EACF,QAEC,MAAA,CAAI,UAAU,yBACZ,SAAAH,EAAU,IAAKkB,GACdP,EAAAA,KAAC,MAAA,CAEC,UAAU,wEACV,aAAc,IAAMlB,EAAkB,QAAQyB,EAAK,EAAE,EAAE,EACvD,aAAc,IAAMzB,EAAkB,IAAI,EAE1C,SAAA,CAAAkB,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qCAAsC,SAAAM,EAAK,MAAM,EAC/DN,EAAAA,IAACC,EAAA,CACC,UAAWrB,IAAmB,QAAQ0B,EAAK,EAAE,GAC7C,QAAQ,OACR,SAAUZ,EACV,UAAU,sDAAA,CAAA,CACZ,EACF,EACAM,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA4C,WAAK,QAAQ,EACtEA,EAAAA,IAAC,OAAA,CAAK,UAAU,yBAA0B,WAAK,IAAA,CAAK,CAAA,CAAA,EAf/CM,EAAK,EAAA,CAiBb,CAAA,CACH,CAAA,EACF,EAGAP,EAAAA,KAAC,MAAA,CAAI,UAAU,uCAEb,SAAA,CAAAA,EAAAA,KAACQ,EAAO,IAAP,CACC,UAAU,iFACV,QAAS,CACP,QAASlC,EAAY,EAAI,EACzB,EAAGA,EAAY,IAAM,CAAA,EAEvB,WAAY,CAAE,SAAU,GAAK,KAAM,CAAC,GAAK,EAAG,GAAK,CAAC,CAAA,EAElD,SAAA,CAAA0B,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qCAAqC,SAAA,YAAS,EAC5DA,EAAAA,IAAC,IAAA,CAAE,UAAU,yBAAyB,SAAA,kCAAA,CAAgC,CAAA,EACxE,EAGAD,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,UAAO,UAAU,qFAChB,SAAAA,MAAC,SAAA,CAAO,aAAC,CAAA,CACX,QACC,SAAA,CAAO,UAAU,qFAChB,SAAAA,MAAC,KAAA,CAAG,aAAC,CAAA,CACP,EACAA,EAAAA,IAAC,SAAA,CAAO,UAAU,qFAAqF,SAAA,IAEvG,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,4BAAA,CAA6B,EAC5CA,EAAAA,IAAC,SAAA,CAAO,UAAU,gFAAgF,SAAA,IAAA,CAElG,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAIFA,EAAAA,IAACQ,EAAA,CACC,SAAUnC,EACV,SAAUC,EACV,UAAU,6BAEV,SAAAyB,EAAAA,KAAC,MAAA,CAAI,UAAU,6BAEb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,UAAWjC,GAAeM,EAC1B,SAAS,WACT,SAAUO,CAAA,CAAA,EAGZW,EAAAA,IAAC,WAAA,CACC,IAAKd,EACL,MAAOF,EACP,SAAW0B,GAAMzB,EAAiByB,EAAE,OAAO,KAAK,EAChD,QAAS,IAAMpC,EAAa,EAAI,EAChC,OAAQ,IAAM,CACZA,EAAa,EAAK,EAClBG,EAAe,EAAK,EACpBM,EAAgB,EAAK,CACvB,EACA,UAAWY,EACX,QAASA,EACT,YAAY,sIACZ,UAAWG,EACT,+EACA,iEACA,8BACAzB,GAAa,uBAAA,CACf,CAAA,EAIF2B,EAAAA,IAACO,EAAO,IAAP,CACC,UAAU,mFACV,QAAS,CAAE,QAAS,EAAG,MAAO,EAAA,EAC9B,QAAS,CACP,QAASlC,EAAY,EAAI,EACzB,MAAOA,EAAY,EAAI,EAAA,EAEzB,WAAY,CAAE,SAAU,EAAA,EACzB,SAAA,oBAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,EAIF2B,EAAAA,IAAC,MAAA,CAAI,UAAU,oCACb,SAAAD,EAAAA,KAACQ,EAAO,IAAP,CACC,UAAU,wFACV,QAAS,CACP,QAASlC,EAAY,EAAI,EACzB,EAAGA,EAAY,GAAK,CAAA,EAEtB,WAAY,CAAE,SAAU,EAAA,EAExB,SAAA,CAAA2B,EAAAA,IAAC,KAAA,CAAG,UAAU,kCAAkC,SAAA,6BAA0B,EAC1ED,EAAAA,KAAC,KAAA,CAAG,UAAU,2BACZ,SAAA,CAAAC,EAAAA,IAAC,MAAG,SAAA,yCAAA,CAAuC,EAC3CA,EAAAA,IAAC,MAAG,SAAA,2CAAA,CAAyC,EAC7CA,EAAAA,IAAC,MAAG,SAAA,8CAAA,CAA4C,EAChDA,EAAAA,IAAC,MAAG,SAAA,wCAAA,CAAsC,CAAA,CAAA,CAC5C,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,CACF,CAAA,EACF,CAEJ"}