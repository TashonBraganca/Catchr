const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SimpleVoiceCapture-DMtvcMJu.js","assets/index-Da4vAx2h.js","assets/index-zjwFKj1l.css","assets/utils-Dj5kSLHa.js"])))=>i.map(i=>d[i]);
import{j as e,r as c,l as A,q as E,A as y,h as o,t as F,_ as Q}from"./index-Da4vAx2h.js";import{a as h}from"./utils-Dj5kSLHa.js";const G=({notes:t,selectedNoteId:i,onNoteSelect:d,className:x})=>t.length===0?e.jsx("div",{className:h("flex-1 overflow-y-auto",x),children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-[#f2f2f7] rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“"})}),e.jsx("h3",{className:"text-lg font-medium text-[#1d1d1f] mb-2",children:"No notes yet"}),e.jsx("p",{className:"text-sm text-[#8e8e93]",children:'Click "+ New" to create your first note or use voice capture'})]})}):e.jsx("div",{className:h("flex-1 overflow-y-auto bg-white",x),children:e.jsx("div",{className:"divide-y divide-[#f2f2f7]",children:t.map(u=>e.jsx(X,{note:u,isSelected:i===u.id,onSelect:d},u.id))})}),X=({note:t,isSelected:i,onSelect:d})=>{const x=c.useCallback(()=>{d(t.id)},[t.id,d]);return e.jsxs("button",{className:h("w-full p-4 text-left hover:bg-[#f8f9fa] transition-colors","flex flex-col space-y-2 focus:outline-none focus:ring-2 focus:ring-[#007aff]/20",i&&"bg-[#007aff]/10 border-l-4 border-l-[#007aff]"),onClick:x,"aria-label":`Select note: ${t.title}`,children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[t.isPinned&&e.jsx("span",{className:"text-[#f59e0b] text-sm flex-shrink-0","aria-label":"Pinned note",children:"ðŸ“Œ"}),e.jsx("h3",{className:"font-medium text-[#1d1d1f] text-sm line-clamp-1 flex-1",children:t.title||"Untitled Note"})]}),e.jsx("span",{className:"text-xs text-[#8e8e93] whitespace-nowrap ml-2 flex-shrink-0",children:Z(t.lastModified)})]}),e.jsx("p",{className:"text-sm text-[#8e8e93] line-clamp-2",children:t.content||"No content"}),t.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1","aria-label":"Note tags",children:[t.tags.slice(0,3).map((u,b)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-[#007aff]/20 text-[#007aff] rounded-full",children:u},b)),t.tags.length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-[#8e8e93]/20 text-[#8e8e93] rounded-full",children:["+",t.tags.length-3]})]})]})};function Z(t){const i=new Date(t),d=new Date,x=(d.getTime()-i.getTime())/1e3;return x<60?"Just now":x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:x<604800?`${Math.floor(x/86400)}d ago`:i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:i.getFullYear()!==d.getFullYear()?"numeric":void 0})}const ee=()=>{const{user:t}=A(),[i,d]=c.useState([]),[x,u]=c.useState(!0),[b,l]=c.useState(null),g=c.useCallback(async()=>{if(!t){d([]),u(!1);return}try{u(!0),l(null);const{data:r,error:a}=await E.from("thoughts").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(a)throw a;const m=(r||[]).map(f=>({id:f.id,user_id:f.user_id,content:f.content||"",title:f.title||P(f.content||""),tags:f.tags||[],category:f.category||{main:"note"},is_pinned:f.is_pinned||!1,created_at:f.created_at,updated_at:f.updated_at}));d(m)}catch(r){console.error("Error fetching notes:",r),l(r instanceof Error?r.message:"Failed to fetch notes")}finally{u(!1)}},[t]),p=c.useCallback(async r=>{if(!t)return l("Must be logged in to create notes"),null;try{const{data:a,error:m}=await E.from("thoughts").insert({user_id:t.id,content:r.content,title:r.title||P(r.content),tags:r.tags||[],category:r.category||{main:"note"},is_pinned:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(m)throw m;const f={id:a.id,user_id:a.user_id,content:a.content,title:a.title,tags:a.tags||[],category:a.category||{main:"note"},is_pinned:a.is_pinned||!1,created_at:a.created_at,updated_at:a.updated_at};return d(N=>[f,...N]),f}catch(a){return console.error("Error creating note:",a),l(a instanceof Error?a.message:"Failed to create note"),null}},[t]),w=c.useCallback(async(r,a)=>{if(!t)return l("Must be logged in to update notes"),!1;try{const{error:m}=await E.from("thoughts").update({...a,updated_at:new Date().toISOString()}).eq("id",r).eq("user_id",t.id);if(m)throw m;return d(f=>f.map(N=>N.id===r?{...N,...a,updated_at:new Date().toISOString()}:N)),!0}catch(m){return console.error("Error updating note:",m),l(m instanceof Error?m.message:"Failed to update note"),!1}},[t]),n=c.useCallback(async r=>{if(!t)return l("Must be logged in to delete notes"),!1;try{const{error:a}=await E.from("thoughts").delete().eq("id",r).eq("user_id",t.id);if(a)throw a;return d(m=>m.filter(f=>f.id!==r)),!0}catch(a){return console.error("Error deleting note:",a),l(a instanceof Error?a.message:"Failed to delete note"),!1}},[t]),v=c.useCallback(async r=>{const a=i.find(m=>m.id===r);return a?w(r,{is_pinned:!a.is_pinned}):!1},[i,w]);return c.useEffect(()=>{g()},[g]),{notes:i,loading:x,error:b,createNote:p,updateNote:w,deleteNote:n,togglePin:v,refetch:g}};function P(t){if(!t)return"Untitled Note";const i=t.split(`
`)[0].trim();return i.length>0?i.length>50?i.substring(0,50)+"...":i:t.length>50?t.substring(0,50)+"...":t}const S=[.4,0,.2,1],te=({isVisible:t,position:i="floating",onAction:d,className:x})=>{const[u,b]=c.useState(null),l={format:[{id:"bold",icon:e.jsx("strong",{children:"B"}),label:"Bold"},{id:"italic",icon:e.jsx("em",{children:"I"}),label:"Italic"},{id:"underline",icon:"U",label:"Underline"}],structure:[{id:"bullet",icon:"â€¢",label:"Bullet List"},{id:"number",icon:"1.",label:"Numbered List"},{id:"header",icon:"H",label:"Header"}],media:[{id:"voice",icon:"ðŸŽ¤",label:"Voice Input"},{id:"image",icon:"ðŸ“·",label:"Add Image"},{id:"link",icon:"ðŸ”—",label:"Add Link"}]},g={top:"top-4 left-1/2 transform -translate-x-1/2",bottom:"bottom-4 left-1/2 transform -translate-x-1/2",floating:"top-4 right-4"};return e.jsx(y,{children:t&&e.jsx(o.div,{className:h("absolute z-20 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-[#e5e5e7] p-3","liquid-glass liquid-glass--rounded-lg",g[i],x),initial:{opacity:0,scale:.8,y:i==="top"?-10:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:i==="top"?-10:10},transition:{duration:.2,ease:S},children:e.jsx("div",{className:"flex items-center space-x-4",children:Object.entries(l).map(([p,w])=>e.jsxs("div",{className:"flex items-center space-x-1",children:[w.map((n,v)=>e.jsx(o.button,{className:h("w-8 h-8 rounded-lg flex items-center justify-center text-sm","hover:bg-[#f2f2f7] transition-colors duration-150","text-[#8e8e93] hover:text-[#1d1d1f]","focus:ring-2 focus:ring-[#007aff]/20 focus:outline-none"),onClick:()=>d==null?void 0:d(n.id),title:n.label,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.15,delay:v*.05,ease:S},whileHover:{scale:1.1},whileTap:{scale:.95},children:n.icon},n.id)),p!=="media"&&e.jsx("div",{className:"w-px h-4 bg-[#e5e5e7] mx-1"})]},p))})})})},se=({isExpanded:t,onExpand:i,onSearch:d,className:x})=>{const[u,b]=c.useState(""),[l,g]=c.useState([]),p=[{id:"text",label:"Text",icon:"ðŸ“"},{id:"tags",label:"Tags",icon:"ðŸ·ï¸"},{id:"date",label:"Date",icon:"ðŸ“…"},{id:"voice",label:"Voice Notes",icon:"ðŸŽ¤"}],w=n=>{const v=l.includes(n)?l.filter(r=>r!==n):[...l,n];g(v),d(u,v)};return e.jsxs("div",{className:h("relative",x),children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search notes...",value:u,onChange:n=>{b(n.target.value),d(n.target.value,l)},onFocus:()=>i(!0),onBlur:()=>setTimeout(()=>i(!1),200),className:h("w-full px-3 py-2 text-sm bg-[#f2f2f7] border-0 rounded-lg","placeholder-[#8e8e93] text-[#1d1d1f]","focus:bg-white focus:ring-2 focus:ring-[#007aff]/20 focus:outline-none","transition-all duration-150")}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-4 h-4 text-[#8e8e93]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsx(y,{children:t&&e.jsxs(o.div,{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-white rounded-lg shadow-lg border border-[#e5e5e7] z-10",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15,ease:S},children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h4",{className:"text-xs font-medium text-[#8e8e93] uppercase tracking-wide mb-2",children:"Search in:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:p.map(n=>e.jsxs(o.button,{onClick:()=>w(n.id),className:h("flex items-center space-x-1 px-2 py-1 rounded-md text-xs transition-colors",l.includes(n.id)?"bg-[#007aff] text-white":"bg-[#f2f2f7] text-[#8e8e93] hover:bg-[#007aff]/10 hover:text-[#007aff]"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx("span",{children:n.icon}),e.jsx("span",{children:n.label})]},n.id))})]}),l.length>0&&e.jsx(o.div,{className:"pt-2 border-t border-[#e5e5e7]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-[#8e8e93]",children:["Searching in ",l.length," filter",l.length>1?"s":""]}),e.jsx("button",{onClick:()=>{g([]),d(u,[])},className:"text-xs text-[#007aff] hover:text-[#0056b3]",children:"Clear all"})]})})]})})]})},ae=({isVisible:t,context:i,onAction:d,className:x})=>{const b={note:[{id:"share",icon:"â†—ï¸",label:"Share"},{id:"duplicate",icon:"ðŸ“‹",label:"Duplicate"},{id:"archive",icon:"ðŸ“¦",label:"Archive"},{id:"delete",icon:"ðŸ—‘ï¸",label:"Delete"}],list:[{id:"sort",icon:"â†•ï¸",label:"Sort"},{id:"filter",icon:"ðŸ”",label:"Filter"},{id:"export",icon:"ðŸ“¤",label:"Export"}],sidebar:[{id:"new-folder",icon:"ðŸ“",label:"New Folder"},{id:"import",icon:"ðŸ“¥",label:"Import"},{id:"settings",icon:"âš™ï¸",label:"Settings"}]}[i]||[];return e.jsx(y,{children:t&&b.length>0&&e.jsx(o.div,{className:h("flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-lg p-1 shadow-sm border border-[#e5e5e7]",x),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15,ease:S},children:b.map((l,g)=>e.jsx(o.button,{onClick:()=>d(l.id),className:"w-7 h-7 rounded-md hover:bg-[#f2f2f7] flex items-center justify-center text-[#8e8e93] hover:text-[#1d1d1f] transition-colors",title:l.label,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15,delay:g*.03,ease:S},whileHover:{scale:1.1},whileTap:{scale:.95},children:e.jsx("span",{className:"text-sm",children:l.icon})},l.id))})})},ie=({isActive:t,onToggle:i,children:d,className:x})=>e.jsxs("div",{className:h("relative transition-all duration-300 ease-out",t&&"transform scale-105",x),onFocus:()=>i(!0),onBlur:()=>i(!1),children:[e.jsx(y,{children:t&&e.jsx(o.div,{className:"absolute inset-0 pointer-events-none z-10",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:S},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/50 via-transparent to-white/50 rounded-lg"})})}),d,e.jsx(y,{children:t&&e.jsx(o.div,{className:"absolute -inset-2 rounded-xl border-2 border-[#007aff]/20 pointer-events-none",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:S}})})]}),le=F.lazy(()=>Q(()=>import("./SimpleVoiceCapture-DMtvcMJu.js"),__vite__mapDeps([0,1,2,3]))),ne=({children:t,className:i})=>{const{user:d,signOut:x}=A(),{notes:u,loading:b,error:l,createNote:g}=ee(),[p,w]=c.useState(!1),[n,v]=c.useState(null),[r,a]=c.useState(null),[m,f]=c.useState(!1),[N,k]=c.useState(!1),[oe,ce]=c.useState("list"),[V,M]=c.useState(null),[B,I]=c.useState(!1),[R,z]=c.useState(!1),[O,q]=c.useState(!1),[C,T]=c.useState(!1),H=c.useRef(null),_=c.useRef(null);F.useEffect(()=>{const s=()=>{window.innerWidth<768&&w(!0)};return s(),window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const U=s=>{console.log(`Editor toolbar action: ${s}`)},W=(s,j)=>{console.log(`Search: "${s}" with filters:`,j)},D=s=>{console.log(`Sidebar action: ${s}`)},L=()=>{if(!H.current)return;const s=window.getSelection(),j=s&&s.toString().length>0;q(!!j),z(!!j)},$=async()=>{var j;const s=((j=_.current)==null?void 0:j.value)||"";s.trim()&&(await g({content:s.trim(),tags:[],category:{main:"note"}}),k(!1),_.current&&(_.current.value=""))},Y=async(s,j,K)=>{if(!s||s.trim().length===0){console.warn("Empty transcript, not saving");return}await g({content:s,title:j,tags:K||[],category:{main:"voice-note"}}),f(!1)},J=u.map(s=>({id:s.id,title:s.title||"Untitled Note",content:s.content,tags:s.tags||[],lastModified:s.updated_at,isPinned:s.is_pinned}));return e.jsxs("div",{className:h("h-screen w-full bg-[#fbfbfd] flex overflow-hidden","text-[#1d1d1f] font-system",i),children:[e.jsxs("div",{className:"flex w-full h-full relative",children:[e.jsx(o.div,{"data-testid":"sidebar",role:"navigation","aria-label":"Project navigation",className:h("h-full flex-shrink-0 relative","liquid-glass liquid-glass--sidebar liquid-glass--animate-entrance","focus-ring","md:relative md:translate-x-0",p?"absolute -translate-x-full md:translate-x-0 z-40":"absolute translate-x-0 z-40 md:relative"),animate:{width:p?"64px":"320px"},transition:{duration:.15,ease:[.4,0,.2,1],type:"tween"},whileHover:{boxShadow:"4px 0 20px rgba(0, 0, 0, 0.05)"},children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"h-14 flex items-center justify-between px-4 border-b border-[#e5e5e7]",children:[!p&&e.jsx("h1",{className:"text-lg font-semibold text-[#1d1d1f]",children:"Notes"}),e.jsx(o.button,{"data-testid":"sidebar-toggle","aria-label":p?"Expand sidebar":"Collapse sidebar",onClick:()=>w(!p),className:h("w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-all duration-200","flex items-center justify-center text-[#8e8e93] focus-ring","hover:text-[#007aff] hover:scale-105"),whileHover:{scale:1.05,backgroundColor:"rgba(0, 122, 255, 0.1)"},whileTap:{scale:.95,rotate:15},transition:{duration:.15},children:e.jsx(o.svg,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",animate:{rotate:p?180:0},transition:{duration:.3,ease:"easeInOut"},children:e.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})})]}),e.jsxs("div",{className:"p-2 relative",onMouseEnter:()=>M("collections"),onMouseLeave:()=>M(null),children:[e.jsx(ae,{isVisible:V==="collections"&&!p,context:"sidebar",onAction:D,className:"absolute top-2 right-2 z-10"}),[{id:"inbox",name:"Inbox",icon:"ðŸ“¥",count:12},{id:"today",name:"Today",icon:"ðŸ“…",count:5},{id:"completed",name:"Completed",icon:"âœ…",count:23}].map((s,j)=>e.jsxs(o.button,{"data-testid":"project-item",className:h("w-full flex items-center space-x-3 px-3 py-2 rounded-lg","hover:bg-[#f2f2f7] transition-all duration-200 text-left focus-ring",n===s.id&&"bg-[#007aff] text-white shadow-md"),onClick:()=>v(s.id),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:j*.1,ease:[.4,0,.2,1]},whileHover:{scale:1.02,x:4},whileTap:{scale:.98},children:[e.jsx(o.span,{className:"text-lg",whileHover:{scale:1.2,rotate:5},transition:{duration:.2},children:s.icon}),!p&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1 text-sm font-medium",children:s.name}),e.jsx(o.span,{className:h("text-xs px-2 py-1 rounded-full",n===s.id?"bg-white/20 text-white":"bg-[#8e8e93]/20 text-[#8e8e93]"),whileHover:{scale:1.1},transition:{duration:.15},children:s.count})]})]},s.id))]}),!p&&e.jsxs("div",{className:"flex-1 p-2",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsx("h3",{className:"text-sm font-medium text-[#8e8e93] uppercase tracking-wide",children:"Projects"}),e.jsx("button",{onClick:()=>k(!0),className:"w-6 h-6 rounded-full bg-[#007aff] text-white flex items-center justify-center text-xs hover:bg-[#0056cc] transition-colors",title:"Create new note","aria-label":"Create new note",children:"+"})]}),e.jsx("div",{className:"space-y-1",children:[{id:"work",name:"Work",color:"#ff3b30",count:8},{id:"personal",name:"Personal",color:"#34c759",count:15},{id:"ideas",name:"Ideas",color:"#af52de",count:6}].map(s=>e.jsxs("button",{className:h("w-full flex items-center space-x-3 px-3 py-2 rounded-lg","hover:bg-[#f2f2f7] transition-colors text-left",n===s.id&&"bg-[#007aff] text-white"),onClick:()=>v(s.id),children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"flex-1 text-sm font-medium",children:s.name}),e.jsx("span",{className:h("text-xs px-2 py-1 rounded-full",n===s.id?"bg-white/20 text-white":"bg-[#8e8e93]/20 text-[#8e8e93]"),children:s.count})]},s.id))})]})]})}),e.jsx(o.div,{"data-testid":"note-list",className:h("h-full flex-shrink-0","liquid-glass liquid-glass--note-list liquid-glass--animate-entrance","w-full sm:w-[280px] md:w-[300px] lg:w-[320px]",r?"hidden lg:block":"block"),layout:!0,children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"border-b border-[#e5e5e7]",children:[e.jsxs("div",{className:"h-14 flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-[#1d1d1f]",children:n?n.charAt(0).toUpperCase()+n.slice(1):"All Notes"}),e.jsxs("p",{className:"text-sm text-[#8e8e93]",children:[u.length," ",u.length===1?"note":"notes"]})]}),e.jsxs("button",{onClick:()=>k(!0),className:"px-3 py-1.5 bg-[#007aff] text-white text-sm font-medium rounded-lg hover:bg-[#0056cc] transition-colors flex items-center space-x-1",title:"Create new note","aria-label":"Create new note",children:[e.jsx("span",{children:"+"}),e.jsx("span",{children:"New"})]})]}),e.jsx("div",{className:"px-4 pb-3",children:e.jsx(se,{isExpanded:B,onExpand:I,onSearch:W})})]}),b?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-[#007aff] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-[#8e8e93]",children:"Loading notes..."})]})}):l?e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-red-500 mb-2",children:["âš ï¸ ",l]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"text-xs text-[#007aff] hover:underline",children:"Reload page"})]})}):e.jsx(G,{notes:J,selectedNoteId:r,onNoteSelect:a})]})}),e.jsx("div",{"data-testid":"note-editor",className:h("flex-1 h-full","liquid-glass liquid-glass--editor liquid-glass--animate-entrance",r?"block w-full":"hidden lg:block"),children:e.jsx("div",{className:"h-full flex flex-col",children:r?e.jsxs(e.Fragment,{children:[e.jsxs(o.div,{className:"h-14 flex items-center justify-between px-4 lg:px-6 border-b border-[#e5e5e7]",animate:{opacity:C?0:1,y:C?-20:0},transition:{duration:.2,ease:[.4,0,.2,1]},children:[e.jsx(o.button,{className:"lg:hidden w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#007aff] mr-2",onClick:()=>a(null),whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":"Back to note list",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"m15 18-6-6 6-6"})})}),e.jsx("input",{type:"text",className:"text-lg font-semibold text-[#1d1d1f] bg-transparent border-none outline-none flex-1 focus-ring",defaultValue:"Note Title",placeholder:"Note title..."}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o.button,{className:"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93] focus-ring",whileHover:{scale:1.1,rotate:10},whileTap:{scale:.9},children:"ðŸ“Œ"}),e.jsx(o.button,{className:"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93] focus-ring",whileHover:{scale:1.1},whileTap:{scale:.9},children:"â‹¯"})]})]}),e.jsxs(ie,{isActive:C,onToggle:T,className:"flex-1 p-6 relative",children:[e.jsx(te,{isVisible:R&&O,position:"floating",onAction:U}),e.jsx("textarea",{ref:H,className:h("w-full h-full resize-none border-none outline-none text-[#1d1d1f] leading-relaxed transition-all duration-300",C?"text-lg leading-loose":"text-base"),placeholder:"Start writing... Select text to see formatting options appear.",defaultValue:"This is the note content area where users can write their thoughts...",onFocus:()=>T(!0),onBlur:()=>{T(!1),z(!1),q(!1)},onMouseUp:L,onKeyUp:L}),e.jsx(o.div,{className:"absolute bottom-4 right-4 px-3 py-1 bg-[#007aff] text-white text-xs rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:C?1:0,scale:C?1:.8},transition:{duration:.2},children:"Content Focus Mode"})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-[#f2f2f7] rounded-full flex items-center justify-center mb-4 mx-auto",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“"})}),e.jsx("h3",{className:"text-lg font-medium text-[#1d1d1f] mb-2",children:"Select a note"}),e.jsx("p",{className:"text-sm text-[#8e8e93]",children:"Choose a note from the list to view or edit"})]})})})})]}),e.jsx(o.button,{"data-testid":"quick-capture-fab","aria-label":"Open voice capture",className:h("fixed w-14 h-14 rounded-full","bg-[#007aff] text-white shadow-lg focus-ring","flex items-center justify-center","hover:bg-[#0056cc] transition-all duration-200","z-50","bottom-6 right-6 md:bottom-8 md:right-8","active:scale-95 sm:active:scale-100"),initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.5},whileHover:{scale:1.1,boxShadow:"0 8px 32px rgba(0, 122, 255, 0.4)"},whileTap:{scale:.9,rotate:15},onClick:()=>f(!0),children:e.jsxs(o.svg,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",whileHover:{scale:1.1,rotate:10},transition:{duration:.2},children:[e.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),e.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),e.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),e.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}),e.jsx(y,{mode:"wait",children:m&&e.jsxs(e.Fragment,{children:[e.jsx(o.div,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50",initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(8px)"},exit:{opacity:0,backdropFilter:"blur(0px)"},transition:{duration:.3,ease:[.4,0,.2,1]},onClick:()=>f(!1)}),e.jsx(o.div,{"data-testid":"voice-capture-modal",className:"fixed inset-0 flex items-center justify-center z-50 p-4",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:400,mass:.8},children:e.jsxs("div",{className:"relative",children:[e.jsx(o.button,{"data-testid":"modal-close","aria-label":"Close voice capture modal",className:"absolute -top-2 -right-2 w-8 h-8 bg-[#8e8e93] text-white rounded-full flex items-center justify-center z-10 hover:bg-[#6d6d70] transition-all duration-200 focus-ring",onClick:()=>f(!1),initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},whileHover:{scale:1.1,backgroundColor:"#ff3b30",rotate:90},whileTap:{scale:.9},transition:{delay:.2,duration:.2},children:e.jsx(o.svg,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",whileHover:{rotate:180},transition:{duration:.3},children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})}),e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"w-80 h-64 bg-white rounded-2xl border border-[#e5e5e7] shadow-2xl flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-[#007aff] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-sm text-[#8e8e93]",children:"Loading voice capture..."})]})}),children:e.jsx(le,{onTranscriptComplete:Y,onError:s=>{console.error("Voice capture error:",s)},className:"shadow-2xl"})})]})})]})}),e.jsx(y,{children:N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-50",onClick:()=>k(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl border border-[#e5e5e7] shadow-xl w-full max-w-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#1d1d1f]",children:"New Note"}),e.jsx("button",{onClick:()=>k(!1),className:"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93]","aria-label":"Close",children:"âœ•"})]}),e.jsx("textarea",{ref:_,className:"w-full h-48 p-3 border border-[#e5e5e7] rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-[#007aff] focus:border-transparent",placeholder:"Start writing your note...",autoFocus:!0}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 mt-4",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-[#8e8e93] hover:bg-[#f2f2f7] rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:$,className:"px-4 py-2 bg-[#007aff] text-white rounded-lg hover:bg-[#0056cc] transition-colors font-medium",children:"Create Note"})]})]})})]})})]})},re=F.memo(ne),ue=()=>e.jsx(re,{});export{ue as default};
//# sourceMappingURL=HomePage-CDeMmjUx.js.map
