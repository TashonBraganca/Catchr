{"version":3,"mappings":"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","names":["SimpleNoteList","notes","selectedNoteId","onNoteSelect","className","jsx","cn","jsxs","note","NoteItem","isSelected","onSelect","handleClick","useCallback","formatRelativeTime","tag","tagIndex","dateString","date","now","diffInSeconds","useNotes","user","useAuth","setNotes","useState","loading","setLoading","error","setError","fetchNotes","data","fetchError","supabase","transformedNotes","thought","extractTitleFromContent","err","createNote","noteData","createError","newNote","prev","updateNote","noteId","updates","updateError","deleteNote","deleteError","togglePin","n","useEffect","content","firstLine","appleEase","ProgressiveToolbar","isVisible","position","onAction","activeSection","setActiveSection","toolSections","positionClasses","AnimatePresence","motion","sectionName","tools","tool","index","ProgressiveSearch","isExpanded","onExpand","onSearch","query","setQuery","activeFilters","setActiveFilters","searchFilters","toggleFilter","filterId","newFilters","f","e","filter","ProgressiveActions","context","actions","action","ContentFocusMode","isActive","onToggle","children","SimpleVoiceCapture","React","__vitePreload","AppShellComponent","signOut","sidebarCollapsed","setSidebarCollapsed","selectedProject","setSelectedProject","selectedNote","setSelectedNote","showVoiceCapture","setShowVoiceCapture","showNewNoteModal","setShowNewNoteModal","mobileView","setMobileView","hoveredElement","setHoveredElement","showAdvancedSearch","setShowAdvancedSearch","showToolbar","setShowToolbar","selectedText","setSelectedText","isWriting","setIsWriting","editorRef","useRef","newNoteContentRef","handleResize","handleToolbarAction","handleSearch","filters","handleSidebarAction","handleTextSelection","selection","hasSelection","handleCreateNewNote","_a","handleVoiceNoteComplete","transcript","suggestedTitle","suggestedTags","collection","Fragment","project","Suspense","AppShell","HomePage"],"ignoreList":[],"sources":["../../src/components/notes/SimpleNoteList.tsx","../../src/hooks/useNotes.ts","../../src/components/ui/ProgressiveDisclosure.tsx","../../src/components/layout/AppShell.tsx","../../src/pages/HomePage.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { cn } from '@/lib/utils';\n\n// SIMPLE NOTE LIST - APPLE NOTES STYLE\n// Optimized scrollable list without virtualization\n// Compatible with useNotes hook - SIMPLIFIED for performance\n\nexport interface NoteListItem {\n  id: string;\n  title: string;\n  content: string;\n  tags: string[];\n  lastModified: string;\n  isPinned: boolean;\n}\n\nexport type { NoteListItem as Note };\n\ninterface SimpleNoteListProps {\n  notes: NoteListItem[];\n  selectedNoteId?: string | null;\n  onNoteSelect: (noteId: string) => void;\n  className?: string;\n}\n\nconst SimpleNoteList: React.FC<SimpleNoteListProps> = ({\n  notes,\n  selectedNoteId,\n  onNoteSelect,\n  className,\n}) => {\n  // Empty state\n  if (notes.length === 0) {\n    return (\n      <div className={cn(\"flex-1 overflow-y-auto\", className)}>\n        <div className=\"flex flex-col items-center justify-center h-full text-center p-8\">\n          <div className=\"w-16 h-16 bg-[#f2f2f7] rounded-full flex items-center justify-center mb-4\">\n            <span className=\"text-2xl\">üìù</span>\n          </div>\n          <h3 className=\"text-lg font-medium text-[#1d1d1f] mb-2\">No notes yet</h3>\n          <p className=\"text-sm text-[#8e8e93]\">\n            Click \"+ New\" to create your first note or use voice capture\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn(\"flex-1 overflow-y-auto bg-white\", className)}>\n      <div className=\"divide-y divide-[#f2f2f7]\">\n        {notes.map((note) => (\n          <NoteItem\n            key={note.id}\n            note={note}\n            isSelected={selectedNoteId === note.id}\n            onSelect={onNoteSelect}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Individual note item component - SIMPLIFIED (no framer-motion for performance)\ninterface NoteItemProps {\n  note: NoteListItem;\n  isSelected: boolean;\n  onSelect: (noteId: string) => void;\n}\n\nconst NoteItem: React.FC<NoteItemProps> = ({ note, isSelected, onSelect }) => {\n  const handleClick = useCallback(() => {\n    onSelect(note.id);\n  }, [note.id, onSelect]);\n\n  return (\n    <button\n      className={cn(\n        \"w-full p-4 text-left hover:bg-[#f8f9fa] transition-colors\",\n        \"flex flex-col space-y-2 focus:outline-none focus:ring-2 focus:ring-[#007aff]/20\",\n        isSelected && \"bg-[#007aff]/10 border-l-4 border-l-[#007aff]\"\n      )}\n      onClick={handleClick}\n      aria-label={`Select note: ${note.title}`}\n    >\n      {/* Note Header */}\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-center space-x-2 flex-1 min-w-0\">\n          {note.isPinned && (\n            <span className=\"text-[#f59e0b] text-sm flex-shrink-0\" aria-label=\"Pinned note\">\n              üìå\n            </span>\n          )}\n          <h3 className=\"font-medium text-[#1d1d1f] text-sm line-clamp-1 flex-1\">\n            {note.title || 'Untitled Note'}\n          </h3>\n        </div>\n        <span className=\"text-xs text-[#8e8e93] whitespace-nowrap ml-2 flex-shrink-0\">\n          {formatRelativeTime(note.lastModified)}\n        </span>\n      </div>\n\n      {/* Note Content Preview */}\n      <p className=\"text-sm text-[#8e8e93] line-clamp-2\">\n        {note.content || 'No content'}\n      </p>\n\n      {/* Tags */}\n      {note.tags.length > 0 && (\n        <div className=\"flex flex-wrap gap-1\" aria-label=\"Note tags\">\n          {note.tags.slice(0, 3).map((tag, tagIndex) => (\n            <span\n              key={tagIndex}\n              className=\"text-xs px-2 py-1 bg-[#007aff]/20 text-[#007aff] rounded-full\"\n            >\n              {tag}\n            </span>\n          ))}\n          {note.tags.length > 3 && (\n            <span className=\"text-xs px-2 py-1 bg-[#8e8e93]/20 text-[#8e8e93] rounded-full\">\n              +{note.tags.length - 3}\n            </span>\n          )}\n        </div>\n      )}\n    </button>\n  );\n};\n\n// Helper function for relative time formatting\nfunction formatRelativeTime(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffInSeconds = (now.getTime() - date.getTime()) / 1000;\n\n  if (diffInSeconds < 60) {\n    return 'Just now';\n  } else if (diffInSeconds < 3600) {\n    const minutes = Math.floor(diffInSeconds / 60);\n    return `${minutes}m ago`;\n  } else if (diffInSeconds < 86400) {\n    const hours = Math.floor(diffInSeconds / 3600);\n    return `${hours}h ago`;\n  } else if (diffInSeconds < 604800) {\n    const days = Math.floor(diffInSeconds / 86400);\n    return `${days}d ago`;\n  } else {\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined,\n    });\n  }\n}\n\nexport default SimpleNoteList;\nexport type { SimpleNoteListProps };\n","import { useState, useEffect, useCallback } from 'react';\nimport { supabase } from '@/config/supabase';\nimport { useAuth } from '@/contexts/AuthContext';\n\n/**\n * NOTE INTERFACE\n * Matches Supabase 'thoughts' table schema\n */\nexport interface Note {\n  id: string;\n  user_id: string;\n  content: string;\n  title?: string;\n  tags?: string[];\n  category?: {\n    main: string;\n    sub?: string;\n  };\n  is_pinned: boolean;\n  created_at: string;\n  updated_at: string;\n}\n\n/**\n * USE NOTES HOOK\n *\n * Fetches and manages notes from Supabase 'thoughts' table\n * Replaces mock data with real database operations\n *\n * Features:\n * - Real-time note fetching with RLS (Row Level Security)\n * - Create, update, delete operations\n * - Optimistic UI updates\n * - Error handling\n *\n * Fixes user report: \"there is not button or option to create a new note\n * fix that too and make sure it works well, and adds itself to the database\"\n */\nexport const useNotes = () => {\n  const { user } = useAuth();\n  const [notes, setNotes] = useState<Note[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  /**\n   * FETCH NOTES FROM SUPABASE\n   * Only fetches notes for the current authenticated user (RLS enforced)\n   */\n  const fetchNotes = useCallback(async () => {\n    if (!user) {\n      setNotes([]);\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      const { data, error: fetchError } = await supabase\n        .from('thoughts')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('updated_at', { ascending: false });\n\n      if (fetchError) {\n        throw fetchError;\n      }\n\n      // Transform Supabase data to match Note interface\n      const transformedNotes: Note[] = (data || []).map(thought => ({\n        id: thought.id,\n        user_id: thought.user_id,\n        content: thought.content || '',\n        title: thought.title || extractTitleFromContent(thought.content || ''),\n        tags: thought.tags || [],\n        category: thought.category || { main: 'note' },\n        is_pinned: thought.is_pinned || false,\n        created_at: thought.created_at,\n        updated_at: thought.updated_at\n      }));\n\n      setNotes(transformedNotes);\n    } catch (err) {\n      console.error('Error fetching notes:', err);\n      setError(err instanceof Error ? err.message : 'Failed to fetch notes');\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  /**\n   * CREATE NEW NOTE\n   * Saves to Supabase 'thoughts' table\n   */\n  const createNote = useCallback(async (noteData: {\n    content: string;\n    title?: string;\n    tags?: string[];\n    category?: { main: string; sub?: string };\n  }): Promise<Note | null> => {\n    if (!user) {\n      setError('Must be logged in to create notes');\n      return null;\n    }\n\n    try {\n      const { data, error: createError } = await supabase\n        .from('thoughts')\n        .insert({\n          user_id: user.id,\n          content: noteData.content,\n          title: noteData.title || extractTitleFromContent(noteData.content),\n          tags: noteData.tags || [],\n          category: noteData.category || { main: 'note' },\n          is_pinned: false,\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        })\n        .select()\n        .single();\n\n      if (createError) {\n        throw createError;\n      }\n\n      // Optimistic UI update\n      const newNote: Note = {\n        id: data.id,\n        user_id: data.user_id,\n        content: data.content,\n        title: data.title,\n        tags: data.tags || [],\n        category: data.category || { main: 'note' },\n        is_pinned: data.is_pinned || false,\n        created_at: data.created_at,\n        updated_at: data.updated_at\n      };\n\n      setNotes(prev => [newNote, ...prev]);\n      return newNote;\n    } catch (err) {\n      console.error('Error creating note:', err);\n      setError(err instanceof Error ? err.message : 'Failed to create note');\n      return null;\n    }\n  }, [user]);\n\n  /**\n   * UPDATE NOTE\n   */\n  const updateNote = useCallback(async (\n    noteId: string,\n    updates: Partial<Pick<Note, 'content' | 'title' | 'tags' | 'category' | 'is_pinned'>>\n  ): Promise<boolean> => {\n    if (!user) {\n      setError('Must be logged in to update notes');\n      return false;\n    }\n\n    try {\n      const { error: updateError } = await supabase\n        .from('thoughts')\n        .update({\n          ...updates,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', noteId)\n        .eq('user_id', user.id); // RLS security\n\n      if (updateError) {\n        throw updateError;\n      }\n\n      // Optimistic UI update\n      setNotes(prev =>\n        prev.map(note =>\n          note.id === noteId\n            ? { ...note, ...updates, updated_at: new Date().toISOString() }\n            : note\n        )\n      );\n\n      return true;\n    } catch (err) {\n      console.error('Error updating note:', err);\n      setError(err instanceof Error ? err.message : 'Failed to update note');\n      return false;\n    }\n  }, [user]);\n\n  /**\n   * DELETE NOTE\n   */\n  const deleteNote = useCallback(async (noteId: string): Promise<boolean> => {\n    if (!user) {\n      setError('Must be logged in to delete notes');\n      return false;\n    }\n\n    try {\n      const { error: deleteError } = await supabase\n        .from('thoughts')\n        .delete()\n        .eq('id', noteId)\n        .eq('user_id', user.id); // RLS security\n\n      if (deleteError) {\n        throw deleteError;\n      }\n\n      // Optimistic UI update\n      setNotes(prev => prev.filter(note => note.id !== noteId));\n      return true;\n    } catch (err) {\n      console.error('Error deleting note:', err);\n      setError(err instanceof Error ? err.message : 'Failed to delete note');\n      return false;\n    }\n  }, [user]);\n\n  /**\n   * TOGGLE PIN\n   */\n  const togglePin = useCallback(async (noteId: string): Promise<boolean> => {\n    const note = notes.find(n => n.id === noteId);\n    if (!note) return false;\n\n    return updateNote(noteId, { is_pinned: !note.is_pinned });\n  }, [notes, updateNote]);\n\n  // Fetch notes on mount and when user changes\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n\n  return {\n    notes,\n    loading,\n    error,\n    createNote,\n    updateNote,\n    deleteNote,\n    togglePin,\n    refetch: fetchNotes\n  };\n};\n\n/**\n * HELPER: Extract title from content\n * Takes first line or first 50 characters\n */\nfunction extractTitleFromContent(content: string): string {\n  if (!content) return 'Untitled Note';\n\n  const firstLine = content.split('\\n')[0].trim();\n  if (firstLine.length > 0) {\n    return firstLine.length > 50\n      ? firstLine.substring(0, 50) + '...'\n      : firstLine;\n  }\n\n  return content.length > 50\n    ? content.substring(0, 50) + '...'\n    : content;\n}\n","/**\n * Progressive Disclosure UI Components\n *\n * Based on Reddit research insights:\n * - Apple Notes: \"Formatting tools are hidden until the user clicks the button to reveal them\"\n * - \"Interface gets out of the way completely - focus is 100% on your writing\"\n * - \"Clean interface while keeping advanced features accessible\"\n *\n * Implementation Patterns:\n * - Hide complexity by default\n * - Show tools on hover/focus\n * - Contextual revelation\n * - Smooth animations with Apple's ease curves\n */\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '@/lib/utils';\n\n// Apple's standard ease curve for all progressive disclosure animations\nconst appleEase = [0.4, 0, 0.2, 1];\n\ninterface ProgressiveToolbarProps {\n  isVisible: boolean;\n  position?: 'top' | 'bottom' | 'floating';\n  onAction?: (action: string) => void;\n  className?: string;\n}\n\nexport const ProgressiveToolbar: React.FC<ProgressiveToolbarProps> = ({\n  isVisible,\n  position = 'floating',\n  onAction,\n  className\n}) => {\n  const [activeSection, setActiveSection] = useState<string | null>(null);\n\n  const toolSections = {\n    format: [\n      { id: 'bold', icon: <strong>B</strong>, label: 'Bold' },\n      { id: 'italic', icon: <em>I</em>, label: 'Italic' },\n      { id: 'underline', icon: 'U', label: 'Underline' }\n    ],\n    structure: [\n      { id: 'bullet', icon: '‚Ä¢', label: 'Bullet List' },\n      { id: 'number', icon: '1.', label: 'Numbered List' },\n      { id: 'header', icon: 'H', label: 'Header' }\n    ],\n    media: [\n      { id: 'voice', icon: 'üé§', label: 'Voice Input' },\n      { id: 'image', icon: 'üì∑', label: 'Add Image' },\n      { id: 'link', icon: 'üîó', label: 'Add Link' }\n    ]\n  };\n\n  const positionClasses = {\n    top: 'top-4 left-1/2 transform -translate-x-1/2',\n    bottom: 'bottom-4 left-1/2 transform -translate-x-1/2',\n    floating: 'top-4 right-4'\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          className={cn(\n            'absolute z-20 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-[#e5e5e7] p-3',\n            'liquid-glass liquid-glass--rounded-lg',\n            positionClasses[position],\n            className\n          )}\n          initial={{ opacity: 0, scale: 0.8, y: position === 'top' ? -10 : 10 }}\n          animate={{ opacity: 1, scale: 1, y: 0 }}\n          exit={{ opacity: 0, scale: 0.8, y: position === 'top' ? -10 : 10 }}\n          transition={{ duration: 0.2, ease: appleEase }}\n        >\n          <div className=\"flex items-center space-x-4\">\n            {Object.entries(toolSections).map(([sectionName, tools]) => (\n              <div key={sectionName} className=\"flex items-center space-x-1\">\n                {tools.map((tool, index) => (\n                  <motion.button\n                    key={tool.id}\n                    className={cn(\n                      'w-8 h-8 rounded-lg flex items-center justify-center text-sm',\n                      'hover:bg-[#f2f2f7] transition-colors duration-150',\n                      'text-[#8e8e93] hover:text-[#1d1d1f]',\n                      'focus:ring-2 focus:ring-[#007aff]/20 focus:outline-none'\n                    )}\n                    onClick={() => onAction?.(tool.id)}\n                    title={tool.label}\n                    initial={{ opacity: 0, scale: 0.5 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{\n                      duration: 0.15,\n                      delay: index * 0.05,\n                      ease: appleEase\n                    }}\n                    whileHover={{ scale: 1.1 }}\n                    whileTap={{ scale: 0.95 }}\n                  >\n                    {tool.icon}\n                  </motion.button>\n                ))}\n                {sectionName !== 'media' && (\n                  <div className=\"w-px h-4 bg-[#e5e5e7] mx-1\" />\n                )}\n              </div>\n            ))}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\ninterface ProgressiveSearchProps {\n  isExpanded: boolean;\n  onExpand: (expanded: boolean) => void;\n  onSearch: (query: string, filters: string[]) => void;\n  className?: string;\n}\n\nexport const ProgressiveSearch: React.FC<ProgressiveSearchProps> = ({\n  isExpanded,\n  onExpand,\n  onSearch,\n  className\n}) => {\n  const [query, setQuery] = useState('');\n  const [activeFilters, setActiveFilters] = useState<string[]>([]);\n\n  const searchFilters = [\n    { id: 'text', label: 'Text', icon: 'üìù' },\n    { id: 'tags', label: 'Tags', icon: 'üè∑Ô∏è' },\n    { id: 'date', label: 'Date', icon: 'üìÖ' },\n    { id: 'voice', label: 'Voice Notes', icon: 'üé§' }\n  ];\n\n  const toggleFilter = (filterId: string) => {\n    const newFilters = activeFilters.includes(filterId)\n      ? activeFilters.filter(f => f !== filterId)\n      : [...activeFilters, filterId];\n    setActiveFilters(newFilters);\n    onSearch(query, newFilters);\n  };\n\n  return (\n    <div className={cn('relative', className)}>\n      {/* Main Search Input */}\n      <div className=\"relative\">\n        <input\n          type=\"text\"\n          placeholder=\"Search notes...\"\n          value={query}\n          onChange={(e) => {\n            setQuery(e.target.value);\n            onSearch(e.target.value, activeFilters);\n          }}\n          onFocus={() => onExpand(true)}\n          onBlur={() => setTimeout(() => onExpand(false), 200)}\n          className={cn(\n            'w-full px-3 py-2 text-sm bg-[#f2f2f7] border-0 rounded-lg',\n            'placeholder-[#8e8e93] text-[#1d1d1f]',\n            'focus:bg-white focus:ring-2 focus:ring-[#007aff]/20 focus:outline-none',\n            'transition-all duration-150'\n          )}\n        />\n        <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n          <svg className=\"w-4 h-4 text-[#8e8e93]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n        </div>\n      </div>\n\n      {/* Advanced Search Options */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            className=\"absolute top-full left-0 right-0 mt-2 p-3 bg-white rounded-lg shadow-lg border border-[#e5e5e7] z-10\"\n            initial={{ opacity: 0, y: -10, scale: 0.95 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: -10, scale: 0.95 }}\n            transition={{ duration: 0.15, ease: appleEase }}\n          >\n            <div className=\"mb-2\">\n              <h4 className=\"text-xs font-medium text-[#8e8e93] uppercase tracking-wide mb-2\">\n                Search in:\n              </h4>\n              <div className=\"flex flex-wrap gap-1\">\n                {searchFilters.map((filter) => (\n                  <motion.button\n                    key={filter.id}\n                    onClick={() => toggleFilter(filter.id)}\n                    className={cn(\n                      'flex items-center space-x-1 px-2 py-1 rounded-md text-xs transition-colors',\n                      activeFilters.includes(filter.id)\n                        ? 'bg-[#007aff] text-white'\n                        : 'bg-[#f2f2f7] text-[#8e8e93] hover:bg-[#007aff]/10 hover:text-[#007aff]'\n                    )}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                  >\n                    <span>{filter.icon}</span>\n                    <span>{filter.label}</span>\n                  </motion.button>\n                ))}\n              </div>\n            </div>\n\n            {activeFilters.length > 0 && (\n              <motion.div\n                className=\"pt-2 border-t border-[#e5e5e7]\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.1 }}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-xs text-[#8e8e93]\">\n                    Searching in {activeFilters.length} filter{activeFilters.length > 1 ? 's' : ''}\n                  </span>\n                  <button\n                    onClick={() => {\n                      setActiveFilters([]);\n                      onSearch(query, []);\n                    }}\n                    className=\"text-xs text-[#007aff] hover:text-[#0056b3]\"\n                  >\n                    Clear all\n                  </button>\n                </div>\n              </motion.div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\ninterface ProgressiveActionsProps {\n  isVisible: boolean;\n  context: 'note' | 'list' | 'sidebar';\n  onAction: (action: string) => void;\n  className?: string;\n}\n\nexport const ProgressiveActions: React.FC<ProgressiveActionsProps> = ({\n  isVisible,\n  context,\n  onAction,\n  className\n}) => {\n  const actionSets = {\n    note: [\n      { id: 'share', icon: '‚ÜóÔ∏è', label: 'Share' },\n      { id: 'duplicate', icon: 'üìã', label: 'Duplicate' },\n      { id: 'archive', icon: 'üì¶', label: 'Archive' },\n      { id: 'delete', icon: 'üóëÔ∏è', label: 'Delete' }\n    ],\n    list: [\n      { id: 'sort', icon: '‚ÜïÔ∏è', label: 'Sort' },\n      { id: 'filter', icon: 'üîç', label: 'Filter' },\n      { id: 'export', icon: 'üì§', label: 'Export' }\n    ],\n    sidebar: [\n      { id: 'new-folder', icon: 'üìÅ', label: 'New Folder' },\n      { id: 'import', icon: 'üì•', label: 'Import' },\n      { id: 'settings', icon: '‚öôÔ∏è', label: 'Settings' }\n    ]\n  };\n\n  const actions = actionSets[context] || [];\n\n  return (\n    <AnimatePresence>\n      {isVisible && actions.length > 0 && (\n        <motion.div\n          className={cn(\n            'flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-lg p-1 shadow-sm border border-[#e5e5e7]',\n            className\n          )}\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.8 }}\n          transition={{ duration: 0.15, ease: appleEase }}\n        >\n          {actions.map((action, index) => (\n            <motion.button\n              key={action.id}\n              onClick={() => onAction(action.id)}\n              className=\"w-7 h-7 rounded-md hover:bg-[#f2f2f7] flex items-center justify-center text-[#8e8e93] hover:text-[#1d1d1f] transition-colors\"\n              title={action.label}\n              initial={{ opacity: 0, x: -10 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{\n                duration: 0.15,\n                delay: index * 0.03,\n                ease: appleEase\n              }}\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.95 }}\n            >\n              <span className=\"text-sm\">{action.icon}</span>\n            </motion.button>\n          ))}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\ninterface ContentFocusModeProps {\n  isActive: boolean;\n  onToggle: (active: boolean) => void;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const ContentFocusMode: React.FC<ContentFocusModeProps> = ({\n  isActive,\n  onToggle,\n  children,\n  className\n}) => {\n  return (\n    <div\n      className={cn(\n        'relative transition-all duration-300 ease-out',\n        isActive && 'transform scale-105',\n        className\n      )}\n      onFocus={() => onToggle(true)}\n      onBlur={() => onToggle(false)}\n    >\n      {/* Content-first overlay that hides UI elements */}\n      <AnimatePresence>\n        {isActive && (\n          <motion.div\n            className=\"absolute inset-0 pointer-events-none z-10\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.3, ease: appleEase }}\n          >\n            {/* Subtle gradient overlay for better text contrast */}\n            <div className=\"absolute inset-0 bg-gradient-to-t from-white/50 via-transparent to-white/50 rounded-lg\" />\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {children}\n\n      {/* Focus indicator */}\n      <AnimatePresence>\n        {isActive && (\n          <motion.div\n            className=\"absolute -inset-2 rounded-xl border-2 border-[#007aff]/20 pointer-events-none\"\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.2, ease: appleEase }}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default {\n  ProgressiveToolbar,\n  ProgressiveSearch,\n  ProgressiveActions,\n  ContentFocusMode\n};","import React, { useState, Suspense, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '@/lib/utils';\nimport SimpleNoteList from '@/components/notes/SimpleNoteList';\nimport { useNotes, Note } from '@/hooks/useNotes';\nimport { useAuth } from '@/contexts/AuthContext';\nimport {\n  ProgressiveToolbar,\n  ProgressiveSearch,\n  ProgressiveActions,\n  ContentFocusMode\n} from '@/components/ui/ProgressiveDisclosure';\n\n// Lazy load voice capture component for better performance\nconst SimpleVoiceCapture = React.lazy(() => import('@/components/capture/SimpleVoiceCapture'));\n\n// APPLE NOTES + TODOIST INSPIRED APP SHELL\n// Three-panel layout: Sidebar (320px->64px) | Note List (300px) | Editor (flexible)\n\ninterface AppShellProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst AppShellComponent: React.FC<AppShellProps> = ({ children, className }) => {\n  // CRITICAL FIX: Use real Supabase data instead of mock data\n  const { user, signOut } = useAuth();\n  const { notes, loading, error, createNote, updateNote, deleteNote, togglePin } = useNotes();\n\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [selectedProject, setSelectedProject] = useState<string | null>(null);\n  const [selectedNote, setSelectedNote] = useState<string | null>(null);\n  const [showVoiceCapture, setShowVoiceCapture] = useState(false);\n  const [showNewNoteModal, setShowNewNoteModal] = useState(false);\n  const [mobileView, setMobileView] = useState<'sidebar' | 'list' | 'editor'>('list');\n\n  // Progressive disclosure state\n  const [hoveredElement, setHoveredElement] = useState<string | null>(null);\n  const [showAdvancedSearch, setShowAdvancedSearch] = useState(false);\n  const [showToolbar, setShowToolbar] = useState(false);\n  const [selectedText, setSelectedText] = useState(false);\n  const [isWriting, setIsWriting] = useState(false);\n\n  // Editor reference for progressive features\n  const editorRef = useRef<HTMLTextAreaElement>(null);\n  const newNoteContentRef = useRef<HTMLTextAreaElement>(null);\n\n  // Responsive behavior - auto-collapse sidebar on mobile\n  React.useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth < 768) {\n        setSidebarCollapsed(true);\n      }\n    };\n\n    handleResize(); // Check on initial load\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  // Progressive disclosure handlers\n  const handleToolbarAction = (action: string) => {\n    console.log(`Editor toolbar action: ${action}`);\n    // TODO: Apply formatting to selected text in editor\n  };\n\n  const handleSearch = (query: string, filters: string[]) => {\n    console.log(`Search: \"${query}\" with filters:`, filters);\n    // TODO: Filter notes based on query and filters\n  };\n\n  const handleSidebarAction = (action: string) => {\n    console.log(`Sidebar action: ${action}`);\n    // TODO: Handle sidebar actions (new folder, import, settings)\n  };\n\n  const handleListAction = (action: string) => {\n    console.log(`Note list action: ${action}`);\n    // TODO: Handle list actions (sort, filter, export)\n  };\n\n  const handleTextSelection = () => {\n    if (!editorRef.current) return;\n\n    const selection = window.getSelection();\n    const hasSelection = selection && selection.toString().length > 0;\n    setSelectedText(!!hasSelection);\n    setShowToolbar(!!hasSelection);\n  };\n\n  /**\n   * CRITICAL FIX: Create new note manually\n   * Addresses user feedback: \"there is not button or option to create a new note\"\n   */\n  const handleCreateNewNote = async () => {\n    const content = newNoteContentRef.current?.value || '';\n    if (!content.trim()) return;\n\n    await createNote({\n      content: content.trim(),\n      tags: [],\n      category: { main: 'note' }\n    });\n\n    setShowNewNoteModal(false);\n    if (newNoteContentRef.current) {\n      newNoteContentRef.current.value = '';\n    }\n  };\n\n  /**\n   * CRITICAL FIX: Save voice notes to database\n   * Addresses user feedback: \"neither does this work, since it just opens up\n   * and nothing happens later on... even the waveform is bad, fix that too,\n   * it doesnt even record or save anything\"\n   */\n  const handleVoiceNoteComplete = async (\n    transcript: string,\n    suggestedTitle?: string,\n    suggestedTags?: string[]\n  ) => {\n    if (!transcript || transcript.trim().length === 0) {\n      console.warn('Empty transcript, not saving');\n      return;\n    }\n\n    // Save to database with AI-generated metadata\n    await createNote({\n      content: transcript,\n      title: suggestedTitle,\n      tags: suggestedTags || [],\n      category: { main: 'voice-note' }\n    });\n\n    setShowVoiceCapture(false);\n  };\n\n  // Transform notes for SimpleNoteList component\n  const transformedNotes = notes.map(note => ({\n    id: note.id,\n    title: note.title || 'Untitled Note',\n    content: note.content,\n    tags: note.tags || [],\n    lastModified: note.updated_at,\n    isPinned: note.is_pinned\n  }));\n\n  return (\n    <div className={cn(\n      \"h-screen w-full bg-[#fbfbfd] flex overflow-hidden\",\n      \"text-[#1d1d1f] font-system\",\n      className\n    )}>\n      {/* Apple Notes Style Three-Panel Layout */}\n      <div className=\"flex w-full h-full relative\">\n\n        {/* Left Sidebar - Projects & Smart Collections */}\n        <motion.div\n          data-testid=\"sidebar\"\n          role=\"navigation\"\n          aria-label=\"Project navigation\"\n          className={cn(\n            \"h-full flex-shrink-0 relative\",\n            \"liquid-glass liquid-glass--sidebar liquid-glass--animate-entrance\",\n            \"focus-ring\",\n            // Mobile: overlay behavior\n            \"md:relative md:translate-x-0\",\n            sidebarCollapsed ? \"absolute -translate-x-full md:translate-x-0 z-40\" : \"absolute translate-x-0 z-40 md:relative\"\n          )}\n          animate={{\n            width: sidebarCollapsed ? \"64px\" : \"320px\"\n          }}\n          transition={{\n            duration: 0.15, // Faster for 3-second rule (Reddit optimization)\n            ease: [0.4, 0, 0.2, 1], // Apple's ease curve\n            type: \"tween\"\n          }}\n          whileHover={{\n            boxShadow: \"4px 0 20px rgba(0, 0, 0, 0.05)\"\n          }}\n        >\n          <div className=\"h-full flex flex-col\">\n            {/* Sidebar Header */}\n            <div className=\"h-14 flex items-center justify-between px-4 border-b border-[#e5e5e7]\">\n              {!sidebarCollapsed && (\n                <h1 className=\"text-lg font-semibold text-[#1d1d1f]\">Notes</h1>\n              )}\n              <motion.button\n                data-testid=\"sidebar-toggle\"\n                aria-label={sidebarCollapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n                onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n                className={cn(\n                  \"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-all duration-200\",\n                  \"flex items-center justify-center text-[#8e8e93] focus-ring\",\n                  \"hover:text-[#007aff] hover:scale-105\"\n                )}\n                whileHover={{\n                  scale: 1.05,\n                  backgroundColor: \"rgba(0, 122, 255, 0.1)\"\n                }}\n                whileTap={{\n                  scale: 0.95,\n                  rotate: 15\n                }}\n                transition={{ duration: 0.15 }}\n              >\n                <motion.svg\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  animate={{\n                    rotate: sidebarCollapsed ? 180 : 0\n                  }}\n                  transition={{ duration: 0.3, ease: \"easeInOut\" }}\n                >\n                  <path d=\"M3 12h18M3 6h18M3 18h18\" />\n                </motion.svg>\n              </motion.button>\n            </div>\n\n            {/* Smart Collections */}\n            <div\n              className=\"p-2 relative\"\n              onMouseEnter={() => setHoveredElement('collections')}\n              onMouseLeave={() => setHoveredElement(null)}\n            >\n              {/* Progressive Actions for Collections */}\n              <ProgressiveActions\n                isVisible={hoveredElement === 'collections' && !sidebarCollapsed}\n                context=\"sidebar\"\n                onAction={handleSidebarAction}\n                className=\"absolute top-2 right-2 z-10\"\n              />\n\n              {[\n                { id: 'inbox', name: 'Inbox', icon: 'üì•', count: 12 },\n                { id: 'today', name: 'Today', icon: 'üìÖ', count: 5 },\n                { id: 'completed', name: 'Completed', icon: '‚úÖ', count: 23 }\n              ].map((collection, index) => (\n                <motion.button\n                  key={collection.id}\n                  data-testid=\"project-item\"\n                  className={cn(\n                    \"w-full flex items-center space-x-3 px-3 py-2 rounded-lg\",\n                    \"hover:bg-[#f2f2f7] transition-all duration-200 text-left focus-ring\",\n                    selectedProject === collection.id && \"bg-[#007aff] text-white shadow-md\"\n                  )}\n                  onClick={() => setSelectedProject(collection.id)}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{\n                    duration: 0.3,\n                    delay: index * 0.1,\n                    ease: [0.4, 0, 0.2, 1]\n                  }}\n                  whileHover={{\n                    scale: 1.02,\n                    x: 4\n                  }}\n                  whileTap={{ scale: 0.98 }}\n                >\n                  <motion.span\n                    className=\"text-lg\"\n                    whileHover={{ scale: 1.2, rotate: 5 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    {collection.icon}\n                  </motion.span>\n                  {!sidebarCollapsed && (\n                    <>\n                      <span className=\"flex-1 text-sm font-medium\">{collection.name}</span>\n                      <motion.span\n                        className={cn(\n                          \"text-xs px-2 py-1 rounded-full\",\n                          selectedProject === collection.id\n                            ? \"bg-white/20 text-white\"\n                            : \"bg-[#8e8e93]/20 text-[#8e8e93]\"\n                        )}\n                        whileHover={{ scale: 1.1 }}\n                        transition={{ duration: 0.15 }}\n                      >\n                        {collection.count}\n                      </motion.span>\n                    </>\n                  )}\n                </motion.button>\n              ))}\n            </div>\n\n            {/* Projects Section */}\n            {!sidebarCollapsed && (\n              <div className=\"flex-1 p-2\">\n                <div className=\"flex items-center justify-between px-3 py-2\">\n                  <h3 className=\"text-sm font-medium text-[#8e8e93] uppercase tracking-wide\">Projects</h3>\n                  <button\n                    onClick={() => setShowNewNoteModal(true)}\n                    className=\"w-6 h-6 rounded-full bg-[#007aff] text-white flex items-center justify-center text-xs hover:bg-[#0056cc] transition-colors\"\n                    title=\"Create new note\"\n                    aria-label=\"Create new note\"\n                  >\n                    +\n                  </button>\n                </div>\n\n                {/* Project List */}\n                <div className=\"space-y-1\">\n                  {[\n                    { id: 'work', name: 'Work', color: '#ff3b30', count: 8 },\n                    { id: 'personal', name: 'Personal', color: '#34c759', count: 15 },\n                    { id: 'ideas', name: 'Ideas', color: '#af52de', count: 6 }\n                  ].map((project) => (\n                    <button\n                      key={project.id}\n                      className={cn(\n                        \"w-full flex items-center space-x-3 px-3 py-2 rounded-lg\",\n                        \"hover:bg-[#f2f2f7] transition-colors text-left\",\n                        selectedProject === project.id && \"bg-[#007aff] text-white\"\n                      )}\n                      onClick={() => setSelectedProject(project.id)}\n                    >\n                      <div\n                        className=\"w-3 h-3 rounded-full\"\n                        style={{ backgroundColor: project.color }}\n                      />\n                      <span className=\"flex-1 text-sm font-medium\">{project.name}</span>\n                      <span className={cn(\n                        \"text-xs px-2 py-1 rounded-full\",\n                        selectedProject === project.id\n                          ? \"bg-white/20 text-white\"\n                          : \"bg-[#8e8e93]/20 text-[#8e8e93]\"\n                      )}>\n                        {project.count}\n                      </span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </motion.div>\n\n        {/* Middle Panel - Note List */}\n        <motion.div\n          data-testid=\"note-list\"\n          className={cn(\n            \"h-full flex-shrink-0\",\n            \"liquid-glass liquid-glass--note-list liquid-glass--animate-entrance\",\n            // Responsive widths\n            \"w-full sm:w-[280px] md:w-[300px] lg:w-[320px]\",\n            // Mobile: hide when editor is open\n            selectedNote ? \"hidden lg:block\" : \"block\"\n          )}\n          layout\n        >\n          <div className=\"h-full flex flex-col\">\n            {/* Note List Header */}\n            <div className=\"border-b border-[#e5e5e7]\">\n              <div className=\"h-14 flex items-center justify-between px-4\">\n                <div className=\"flex-1\">\n                  <h2 className=\"text-lg font-semibold text-[#1d1d1f]\">\n                    {selectedProject ?\n                      selectedProject.charAt(0).toUpperCase() + selectedProject.slice(1) :\n                      'All Notes'\n                    }\n                  </h2>\n                  <p className=\"text-sm text-[#8e8e93]\">{notes.length} {notes.length === 1 ? 'note' : 'notes'}</p>\n                </div>\n\n                {/* NEW NOTE BUTTON - CRITICAL FIX */}\n                <button\n                  onClick={() => setShowNewNoteModal(true)}\n                  className=\"px-3 py-1.5 bg-[#007aff] text-white text-sm font-medium rounded-lg hover:bg-[#0056cc] transition-colors flex items-center space-x-1\"\n                  title=\"Create new note\"\n                  aria-label=\"Create new note\"\n                >\n                  <span>+</span>\n                  <span>New</span>\n                </button>\n              </div>\n\n              {/* Progressive Search */}\n              <div className=\"px-4 pb-3\">\n                <ProgressiveSearch\n                  isExpanded={showAdvancedSearch}\n                  onExpand={setShowAdvancedSearch}\n                  onSearch={handleSearch}\n                />\n              </div>\n            </div>\n\n            {/* Simple Note List - Now with real Supabase data! */}\n            {loading ? (\n              <div className=\"flex-1 flex items-center justify-center\">\n                <div className=\"flex flex-col items-center space-y-2\">\n                  <div className=\"w-6 h-6 border-2 border-[#007aff] border-t-transparent rounded-full animate-spin\" />\n                  <p className=\"text-sm text-[#8e8e93]\">Loading notes...</p>\n                </div>\n              </div>\n            ) : error ? (\n              <div className=\"flex-1 flex items-center justify-center p-4\">\n                <div className=\"text-center\">\n                  <p className=\"text-sm text-red-500 mb-2\">‚ö†Ô∏è {error}</p>\n                  <button\n                    onClick={() => window.location.reload()}\n                    className=\"text-xs text-[#007aff] hover:underline\"\n                  >\n                    Reload page\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <SimpleNoteList\n                notes={transformedNotes}\n                selectedNoteId={selectedNote}\n                onNoteSelect={setSelectedNote}\n              />\n            )}\n          </div>\n        </motion.div>\n\n        {/* Right Panel - Note Editor */}\n        <div\n          data-testid=\"note-editor\"\n          className={cn(\n            \"flex-1 h-full\",\n            \"liquid-glass liquid-glass--editor liquid-glass--animate-entrance\",\n            // Mobile: full width when note selected, hidden otherwise\n            selectedNote ? \"block w-full\" : \"hidden lg:block\"\n          )}\n        >\n          <div className=\"h-full flex flex-col\">\n            {selectedNote ? (\n              <>\n                {/* Editor Header - hides when writing */}\n                <motion.div\n                  className=\"h-14 flex items-center justify-between px-4 lg:px-6 border-b border-[#e5e5e7]\"\n                  animate={{\n                    opacity: isWriting ? 0 : 1,\n                    y: isWriting ? -20 : 0\n                  }}\n                  transition={{ duration: 0.2, ease: [0.4, 0, 0.2, 1] }}\n                >\n                  {/* Mobile Back Button */}\n                  <motion.button\n                    className=\"lg:hidden w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#007aff] mr-2\"\n                    onClick={() => setSelectedNote(null)}\n                    whileHover={{ scale: 1.05 }}\n                    whileTap={{ scale: 0.95 }}\n                    aria-label=\"Back to note list\"\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                      <path d=\"m15 18-6-6 6-6\"/>\n                    </svg>\n                  </motion.button>\n\n                  <input\n                    type=\"text\"\n                    className=\"text-lg font-semibold text-[#1d1d1f] bg-transparent border-none outline-none flex-1 focus-ring\"\n                    defaultValue=\"Note Title\"\n                    placeholder=\"Note title...\"\n                  />\n                  <div className=\"flex items-center space-x-2\">\n                    <motion.button\n                      className=\"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93] focus-ring\"\n                      whileHover={{ scale: 1.1, rotate: 10 }}\n                      whileTap={{ scale: 0.9 }}\n                    >\n                      üìå\n                    </motion.button>\n                    <motion.button\n                      className=\"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93] focus-ring\"\n                      whileHover={{ scale: 1.1 }}\n                      whileTap={{ scale: 0.9 }}\n                    >\n                      ‚ãØ\n                    </motion.button>\n                  </div>\n                </motion.div>\n\n                {/* Editor Content with Progressive Disclosure */}\n                <ContentFocusMode\n                  isActive={isWriting}\n                  onToggle={setIsWriting}\n                  className=\"flex-1 p-6 relative\"\n                >\n                  {/* Progressive Toolbar - appears on text selection */}\n                  <ProgressiveToolbar\n                    isVisible={showToolbar && selectedText}\n                    position=\"floating\"\n                    onAction={handleToolbarAction}\n                  />\n\n                  <textarea\n                    ref={editorRef}\n                    className={cn(\n                      \"w-full h-full resize-none border-none outline-none text-[#1d1d1f] leading-relaxed transition-all duration-300\",\n                      isWriting ? \"text-lg leading-loose\" : \"text-base\"\n                    )}\n                    placeholder=\"Start writing... Select text to see formatting options appear.\"\n                    defaultValue=\"This is the note content area where users can write their thoughts...\"\n                    onFocus={() => setIsWriting(true)}\n                    onBlur={() => {\n                      setIsWriting(false);\n                      setShowToolbar(false);\n                      setSelectedText(false);\n                    }}\n                    onMouseUp={handleTextSelection}\n                    onKeyUp={handleTextSelection}\n                  />\n\n                  {/* Writing mode indicator */}\n                  <motion.div\n                    className=\"absolute bottom-4 right-4 px-3 py-1 bg-[#007aff] text-white text-xs rounded-full\"\n                    initial={{ opacity: 0, scale: 0.8 }}\n                    animate={{\n                      opacity: isWriting ? 1 : 0,\n                      scale: isWriting ? 1 : 0.8\n                    }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    Content Focus Mode\n                  </motion.div>\n                </ContentFocusMode>\n              </>\n            ) : (\n              <div className=\"flex-1 flex items-center justify-center\">\n                <div className=\"text-center\">\n                  <div className=\"w-20 h-20 bg-[#f2f2f7] rounded-full flex items-center justify-center mb-4 mx-auto\">\n                    <span className=\"text-2xl\">üìù</span>\n                  </div>\n                  <h3 className=\"text-lg font-medium text-[#1d1d1f] mb-2\">Select a note</h3>\n                  <p className=\"text-sm text-[#8e8e93]\">Choose a note from the list to view or edit</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Todoist-Style Quick Capture FAB */}\n      <motion.button\n        data-testid=\"quick-capture-fab\"\n        aria-label=\"Open voice capture\"\n        className={cn(\n          \"fixed w-14 h-14 rounded-full\",\n          \"bg-[#007aff] text-white shadow-lg focus-ring\",\n          \"flex items-center justify-center\",\n          \"hover:bg-[#0056cc] transition-all duration-200\",\n          \"z-50\",\n          // Responsive positioning - mobile safe area\n          \"bottom-6 right-6 md:bottom-8 md:right-8\",\n          // Touch-friendly on mobile\n          \"active:scale-95 sm:active:scale-100\"\n        )}\n        initial={{ scale: 0, rotate: -180 }}\n        animate={{ scale: 1, rotate: 0 }}\n        transition={{\n          type: \"spring\",\n          stiffness: 260,\n          damping: 20,\n          delay: 0.5\n        }}\n        whileHover={{\n          scale: 1.1,\n          boxShadow: \"0 8px 32px rgba(0, 122, 255, 0.4)\"\n        }}\n        whileTap={{\n          scale: 0.9,\n          rotate: 15\n        }}\n        onClick={() => setShowVoiceCapture(true)}\n      >\n        <motion.svg\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          whileHover={{\n            scale: 1.1,\n            rotate: 10\n          }}\n          transition={{ duration: 0.2 }}\n        >\n          <path d=\"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z\"/>\n          <path d=\"M19 10v2a7 7 0 0 1-14 0v-2\"/>\n          <line x1=\"12\" y1=\"19\" x2=\"12\" y2=\"23\"/>\n          <line x1=\"8\" y1=\"23\" x2=\"16\" y2=\"23\"/>\n        </motion.svg>\n      </motion.button>\n\n      {/* Voice Capture Modal */}\n      <AnimatePresence mode=\"wait\">\n        {showVoiceCapture && (\n          <>\n            {/* Backdrop */}\n            <motion.div\n              className=\"fixed inset-0 bg-black/30 backdrop-blur-sm z-50\"\n              initial={{ opacity: 0, backdropFilter: \"blur(0px)\" }}\n              animate={{ opacity: 1, backdropFilter: \"blur(8px)\" }}\n              exit={{ opacity: 0, backdropFilter: \"blur(0px)\" }}\n              transition={{ duration: 0.3, ease: [0.4, 0, 0.2, 1] }}\n              onClick={() => setShowVoiceCapture(false)}\n            />\n\n            {/* Modal */}\n            <motion.div\n              data-testid=\"voice-capture-modal\"\n              className=\"fixed inset-0 flex items-center justify-center z-50 p-4\"\n              initial={{ opacity: 0, scale: 0.8, y: 50 }}\n              animate={{ opacity: 1, scale: 1, y: 0 }}\n              exit={{ opacity: 0, scale: 0.8, y: 50 }}\n              transition={{\n                type: 'spring',\n                damping: 25,\n                stiffness: 400,\n                mass: 0.8\n              }}\n            >\n              <div className=\"relative\">\n                {/* Close Button */}\n                <motion.button\n                  data-testid=\"modal-close\"\n                  aria-label=\"Close voice capture modal\"\n                  className=\"absolute -top-2 -right-2 w-8 h-8 bg-[#8e8e93] text-white rounded-full flex items-center justify-center z-10 hover:bg-[#6d6d70] transition-all duration-200 focus-ring\"\n                  onClick={() => setShowVoiceCapture(false)}\n                  initial={{ scale: 0, rotate: -90 }}\n                  animate={{ scale: 1, rotate: 0 }}\n                  whileHover={{\n                    scale: 1.1,\n                    backgroundColor: \"#ff3b30\",\n                    rotate: 90\n                  }}\n                  whileTap={{ scale: 0.9 }}\n                  transition={{ delay: 0.2, duration: 0.2 }}\n                >\n                  <motion.svg\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    whileHover={{ rotate: 180 }}\n                    transition={{ duration: 0.3 }}\n                  >\n                    <path d=\"M18 6L6 18M6 6l12 12\" />\n                  </motion.svg>\n                </motion.button>\n\n                <Suspense fallback={\n                  <div className=\"w-80 h-64 bg-white rounded-2xl border border-[#e5e5e7] shadow-2xl flex items-center justify-center\">\n                    <div className=\"flex flex-col items-center space-y-2\">\n                      <div className=\"w-6 h-6 border-2 border-[#007aff] border-t-transparent rounded-full animate-spin\" />\n                      <p className=\"text-sm text-[#8e8e93]\">Loading voice capture...</p>\n                    </div>\n                  </div>\n                }>\n                  <SimpleVoiceCapture\n                    onTranscriptComplete={handleVoiceNoteComplete}\n                    onError={(error) => {\n                      console.error('Voice capture error:', error);\n                      // TODO: Show error toast notification\n                    }}\n                    className=\"shadow-2xl\"\n                  />\n                </Suspense>\n              </div>\n            </motion.div>\n          </>\n        )}\n      </AnimatePresence>\n\n      {/* NEW NOTE MODAL - Simple and fast */}\n      <AnimatePresence>\n        {showNewNoteModal && (\n          <>\n            {/* Backdrop */}\n            <div\n              className=\"fixed inset-0 bg-black/20 z-50\"\n              onClick={() => setShowNewNoteModal(false)}\n            />\n\n            {/* Modal */}\n            <div className=\"fixed inset-0 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-white rounded-xl border border-[#e5e5e7] shadow-xl w-full max-w-lg p-6\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold text-[#1d1d1f]\">New Note</h3>\n                  <button\n                    onClick={() => setShowNewNoteModal(false)}\n                    className=\"w-8 h-8 rounded-lg hover:bg-[#f2f2f7] transition-colors flex items-center justify-center text-[#8e8e93]\"\n                    aria-label=\"Close\"\n                  >\n                    ‚úï\n                  </button>\n                </div>\n\n                {/* Content */}\n                <textarea\n                  ref={newNoteContentRef}\n                  className=\"w-full h-48 p-3 border border-[#e5e5e7] rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-[#007aff] focus:border-transparent\"\n                  placeholder=\"Start writing your note...\"\n                  autoFocus\n                />\n\n                {/* Actions */}\n                <div className=\"flex items-center justify-end space-x-2 mt-4\">\n                  <button\n                    onClick={() => setShowNewNoteModal(false)}\n                    className=\"px-4 py-2 text-[#8e8e93] hover:bg-[#f2f2f7] rounded-lg transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleCreateNewNote}\n                    className=\"px-4 py-2 bg-[#007aff] text-white rounded-lg hover:bg-[#0056cc] transition-colors font-medium\"\n                  >\n                    Create Note\n                  </button>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\n// Performance optimization - memoize AppShell to prevent unnecessary re-renders\nexport const AppShell = React.memo(AppShellComponent);","import React from 'react';\nimport { AppShell } from '@/components/layout/AppShell';\n\nconst HomePage: React.FC = () => {\n  return (\n    <AppShell>\n      {/* Clean Apple Notes + Todoist inspired interface */}\n    </AppShell>\n  );\n};\n\nexport default HomePage;"],"file":"assets/HomePage-CDeMmjUx.js"}