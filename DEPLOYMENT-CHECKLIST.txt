================================================================================
                   CATHCR PRODUCTION DEPLOYMENT CHECKLIST
                              2025-10-16
                         PRINT THIS PAGE
================================================================================

PRE-DEPLOYMENT (15 minutes)
================================================================================

STEP 1: APPLY DATABASE MIGRATION ‚ö†Ô∏è CRITICAL
‚ñ° Open: https://vysdpthbimdlkciusbvx.supabase.co/project/vysdpthbimdlkciusbvx/sql
‚ñ° Click "New Query"
‚ñ° Copy contents of: supabase/migrations/004_user_settings_calendar.sql
‚ñ° Paste into SQL editor
‚ñ° Click "Run" (should complete in 2-5 seconds)
‚ñ° Check for success message (no errors)

STEP 2: VERIFY MIGRATION SUCCESS
‚ñ° Run verification query:
  SELECT column_name FROM information_schema.columns
  WHERE table_name = 'thoughts' AND column_name IN ('title', 'is_pinned');
‚ñ° Should return: title, is_pinned
‚ñ° If not, DO NOT PROCEED - fix migration first

STEP 3: LOCAL VERIFICATION
‚ñ° cd D:\Projects\Cathcr
‚ñ° npm run build (should succeed)
‚ñ° npm run typecheck (should succeed)
‚ñ° No errors in console output

STEP 4: ENVIRONMENT CHECK
‚ñ° Vercel dashboard open: https://vercel.com/cathcr
‚ñ° Supabase dashboard open: https://vysdpthbimdlkciusbvx.supabase.co
‚ñ° Have 90 minutes uninterrupted time
‚ñ° Team notified of deployment

================================================================================
DEPLOYMENT (10 minutes)
================================================================================

OPTION A: AUTOMATED SCRIPT (RECOMMENDED)
‚ñ° cd D:\Projects\Cathcr
‚ñ° Run: DEPLOY.bat (Windows) or bash DEPLOY.sh (Linux/Mac)
‚ñ° Follow prompts
‚ñ° Wait for completion

OPTION B: MANUAL COMMANDS
‚ñ° cd D:\Projects\Cathcr
‚ñ° git add .
‚ñ° git commit -m "üöÄ MAJOR RELEASE: Complete Platform Improvements (Phases 1-10)
  (See DEPLOYMENT-PLAN.md for full message)"
‚ñ° git push origin main
‚ñ° vercel --prod
‚ñ° Wait 2-5 minutes for deployment

VERIFY DEPLOYMENT STARTED
‚ñ° Vercel shows "Building..." status
‚ñ° GitHub shows latest commit
‚ñ° No git errors
‚ñ° No build errors

================================================================================
POST-DEPLOYMENT VERIFICATION (15 minutes)
================================================================================

CRITICAL PATH TESTING - DO THESE IMMEDIATELY

TEST 1: HOMEPAGE & LOGIN
‚ñ° Navigate to: https://cathcr.vercel.app
‚ñ° Homepage loads (no errors)
‚ñ° Click "Sign In"
‚ñ° Login works
‚ñ° Dashboard appears
‚ñ° Press F12 - check console (no red errors)
Status: ___PASS___ ___FAIL___

TEST 2: MANUAL NOTE CREATION
‚ñ° Click "+ New" button
‚ñ° Type: "Deployment test note"
‚ñ° Click "Create Note"
‚ñ° Note appears in list
‚ñ° Refresh page (Ctrl+R)
‚ñ° Note still exists
Status: ___PASS___ ___FAIL___

TEST 3: VOICE NOTE CREATION
‚ñ° Click microphone FAB button
‚ñ° Record 2-3 second voice note
‚ñ° Stop recording
‚ñ° Wait for processing (~3 seconds)
‚ñ° Note appears in list
‚ñ° Check console - no errors
Status: ___PASS___ ___FAIL___

TEST 4: PIN FUNCTIONALITY (IF MIGRATION 004 APPLIED)
‚ñ° Hover over a note
‚ñ° Click pin icon
‚ñ° Note moves to top
‚ñ° Refresh page
‚ñ° Note stays pinned
Status: ___PASS___ ___FAIL___

TEST 5: EXTENSION PAGE
‚ñ° Navigate to: https://cathcr.vercel.app/install-extension
‚ñ° Page loads
‚ñ° Download button visible
‚ñ° Instructions readable
Status: ___PASS___ ___FAIL___

TEST 6: API ENDPOINTS
‚ñ° Open browser console (F12)
‚ñ° Get token: localStorage.getItem('supabase.auth.token')
‚ñ° Test with curl (see DEPLOYMENT-PLAN.md)
‚ñ° /api/stats returns 200
Status: ___PASS___ ___FAIL___

ALL TESTS PASSED?
‚ñ° YES - Proceed to monitoring
‚ñ° NO - See rollback section below

================================================================================
LOG MONITORING - FIRST HOUR (Check every 15 minutes)
================================================================================

TIME: _____:_____ (Start time)

CHECK 1: 15 MINUTES (____:____)
‚ñ° Vercel logs - no 500 errors
‚ñ° Supabase logs - no RLS violations
‚ñ° Browser console - no errors
‚ñ° Response times <500ms
Notes: _______________________________________________________________

CHECK 2: 30 MINUTES (____:____)
‚ñ° Vercel logs - no 500 errors
‚ñ° Supabase logs - no RLS violations
‚ñ° Response times <500ms
‚ñ° No user complaints
Notes: _______________________________________________________________

CHECK 3: 45 MINUTES (____:____)
‚ñ° Vercel logs - no 500 errors
‚ñ° Supabase logs - no RLS violations
‚ñ° Performance stable
‚ñ° No anomalies
Notes: _______________________________________________________________

CHECK 4: 60 MINUTES (____:____)
‚ñ° Vercel logs - no 500 errors
‚ñ° Supabase logs - no RLS violations
‚ñ° All metrics normal
‚ñ° Deployment successful
Notes: _______________________________________________________________

ALL CHECKS PASSED?
‚ñ° YES - Deployment complete! üéâ
‚ñ° NO - Investigate issues, consider rollback

================================================================================
ROLLBACK PROCEDURE (IF NEEDED)
================================================================================

IMMEDIATE ROLLBACK (GIT)
‚ñ° cd D:\Projects\Cathcr
‚ñ° git revert HEAD
‚ñ° git push origin main
‚ñ° Wait 2-3 minutes for Vercel redeploy
‚ñ° Test critical paths again

VERCEL DASHBOARD ROLLBACK
‚ñ° Go to: https://vercel.com/cathcr/deployments
‚ñ° Find previous successful deployment
‚ñ° Click "..." menu
‚ñ° Click "Promote to Production"
‚ñ° Test critical paths again

DATABASE ROLLBACK (IF MIGRATION APPLIED)
‚ñ° Open Supabase SQL Editor
‚ñ° Run: ALTER TABLE thoughts DROP COLUMN title;
‚ñ° Run: ALTER TABLE thoughts DROP COLUMN is_pinned;
‚ñ° Run: DROP INDEX IF EXISTS idx_thoughts_pinned;
‚ñ° Verify rollback successful

ROLLBACK COMPLETED?
‚ñ° YES - Document issues for team
‚ñ° NO - Escalate to senior engineer

================================================================================
FINAL SIGN-OFF
================================================================================

DEPLOYMENT SUMMARY
Deployment started: ____:____ on __________
Deployment completed: ____:____ on __________
Total time: _______ minutes

RESULTS
‚ñ° All tests passed
‚ñ° All monitoring checks passed
‚ñ° No rollback required
‚ñ° Production stable

ISSUES ENCOUNTERED (if any)
___________________________________________________________________________
___________________________________________________________________________
___________________________________________________________________________

LESSONS LEARNED
___________________________________________________________________________
___________________________________________________________________________
___________________________________________________________________________

DEPLOYED BY: _______________________________  DATE: ___________

REVIEWED BY: _______________________________  DATE: ___________

APPROVED FOR COMPLETION: ‚ñ° YES  ‚ñ° NO (requires follow-up)

================================================================================
                          END OF CHECKLIST
          Keep this on file for deployment documentation
================================================================================
